(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[101],{8224:(e,t,n)=>{"use strict";n.d(t,{f7:()=>a,eY:()=>s});var r=n(4618),a=function(e){return(0,r.Z)({url:"/user/edit",method:"post",data:e})},s=function(e){return(0,r.Z)({url:"/user/find",method:"get",params:e})}},5101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-page"},[n("img",{attrs:{src:"https://pic1.zhimg.com/80/v2-51ffeb6f6e1f221ebe277a09b43280e4_r.jpg",alt:""}}),e._v(" "),n("el-card",[n("ul",[n("li",[n("h3",{staticClass:"name"},[e._v("Account")]),e._v(" "),e.infoObj.username?e._e():n("div",{staticClass:"content"},[n("span",[e._v(e._s(e.infoData.username))])])]),e._v(" "),n("li",[n("h3",[e._v("Address")]),e._v(" "),e.infoObj.real_name?e._e():n("div",{staticClass:"content"},[n("span",[e._v(e._s(e.infoData.real_name))])])]),e._v(" "),n("li",[n("h3",[e._v("Balance")]),e._v(" "),e.infoObj.gender?n("div",{staticClass:"form"},[n("el-radio",{attrs:{label:"1"},model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},[e._v("男")]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},[e._v("女")]),e._v(" "),n("div",{staticClass:"btn"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onSubmit("gender")}}},[e._v("确定")]),e._v(" "),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.cancel("gender")}}},[e._v("取消")])],1)],1):n("div",{staticClass:"content"},[n("span",[e._v(e._s(e.genderMap[e.infoData.gender]))]),e._v(" "),n("div",{staticClass:"edit",on:{click:function(t){return e.isEdit("gender")}}},[n("i",{staticClass:"el-icon-edit"}),e._v(" 修改\n          ")])])])])])],1)};r._withStripped=!0;var a=n(2137),s=n(6156),i=n(7757),o=n.n(i),c=n(8224);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const f={name:"user-page",data:function(){return{infoObj:{username:!1,gender:!1,phone:!1,real_name:!1,sno:!1,shipping_address:!1},genderMap:{0:"其他",1:"男",2:"女"},infoData:{},formData:{}}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,n(7957).mapGetters)("global",["uid"])),methods:{getInit:function(){var e=this;return(0,a.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.eY)({uid:e.uid});case 2:n=t.sent,e.infoData=n||{},e.formData=JSON.parse(JSON.stringify(e.infoData));case 5:case"end":return t.stop()}}),t)})))()},isEdit:function(e){this.infoObj[e]=!0},cancel:function(e){this.formData[e]=this.infoData[e],this.infoObj[e]=!1},checkPhone:function(e){return!!/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(Number(e))||(this.$message.warning("手机号码有误，请重填"),!1)},onSubmit:function(e){var t=this;return(0,a.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("username"!==e||t.formatUsername(t.formData[e])){n.next=2;break}return n.abrupt("return");case 2:if("phone"!==e||t.checkPhone(t.formData[e])){n.next=4;break}return n.abrupt("return");case 4:if(!("sno"===e&&"".concat(t.formData[e]).length<9)){n.next=7;break}return t.$message.warning("请输入九位学号"),n.abrupt("return");case 7:if(t.infoObj[e]=!1,t.formData[e]!==t.infoData[e]){n.next=10;break}return n.abrupt("return");case 10:return n.next=12,(0,c.f7)(t.formData);case 12:t.getInit();case 13:case"end":return n.stop()}}),n)})))()},formatUsername:function(e){return e?!!/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){3,10}$/.test(e)||(this.$message.warning("请输入以字母开头的4~10位用户名"),!1):(this.$message.warning("请输入用户名"),!1)}},mounted:function(){this.getInit()}};var l=(0,n(1900).Z)(f,r,[],!1,null,"7b5e3614",null);l.options.__file="src/views/userInfo/index.vue";const d=l.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvYXBpL3VzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL3ZpZXdzL3VzZXJJbmZvL2luZGV4LnZ1ZT9hNzBhIiwid2VicGFjazovL3dlYnBhY2stZGVtby9zcmMvdmlld3MvdXNlckluZm8vaW5kZXgudnVlIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy92aWV3cy91c2VySW5mby9pbmRleC52dWU/MDZhNSIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvdmlld3MvdXNlckluZm8vaW5kZXgudnVlIl0sIm5hbWVzIjpbInVzZXJFZGl0IiwiZGF0YSIsInJlcXVlc3QiLCJ1cmwiLCJtZXRob2QiLCJ1c2VySW5mbyIsInBhcmFtcyIsInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJzcmMiLCJhbHQiLCJfdiIsImluZm9PYmoiLCJ1c2VybmFtZSIsIl9lIiwiX3MiLCJpbmZvRGF0YSIsInJlYWxfbmFtZSIsImdlbmRlciIsImxhYmVsIiwibW9kZWwiLCJ2YWx1ZSIsImZvcm1EYXRhIiwiY2FsbGJhY2siLCIkJHYiLCIkc2V0IiwiZXhwcmVzc2lvbiIsInNpemUiLCJ0eXBlIiwib24iLCJjbGljayIsIiRldmVudCIsIm9uU3VibWl0IiwiY2FuY2VsIiwiZ2VuZGVyTWFwIiwiaXNFZGl0IiwiX3dpdGhTdHJpcHBlZCIsIm5hbWUiLCJwaG9uZSIsInNubyIsInNoaXBwaW5nX2FkZHJlc3MiLCJjb21wdXRlZCIsIm1ldGhvZHMiLCJrZXkiLCJjaGVja1Bob25lIiwiJG1lc3NhZ2UiLCJ3YXJuaW5nIiwiZm9ybWF0VXNlcm5hbWUiLCJ0ZXN0IiwibW91bnRlZCIsImdldEluaXQiLCJjb21wb25lbnQiLCJvcHRpb25zIiwiX19maWxlIl0sIm1hcHBpbmdzIjoib0pBa0JhQSxF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ImZpbGUiOiJqcy8xMDEuZGE3ZmIzMDE3MzU0ZGQ0NGU1YmMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVxdWVzdCBmcm9tICdAL2FwaSc7XG5cbmV4cG9ydCBjb25zdCBsb2dpbiA9IChkYXRhKSA9PiB7XG4gIHJldHVybiByZXF1ZXN0KHtcbiAgICB1cmw6ICcvbG9naW4nLFxuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGRhdGEsXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IChkYXRhKSA9PiB7XG4gIHJldHVybiByZXF1ZXN0KHtcbiAgICB1cmw6ICcvcmVnaXN0ZXInLFxuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGRhdGFcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHVzZXJFZGl0ID0gKGRhdGEpID0+IHtcbiAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgIHVybDogJy91c2VyL2VkaXQnLFxuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGRhdGFcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHVzZXJJbmZvID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gcmVxdWVzdCh7XG4gICAgdXJsOiAnL3VzZXIvZmluZCcsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBwYXJhbXMsXG4gIH0pXG59IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwidXNlci1wYWdlXCIgfSxcbiAgICBbXG4gICAgICBfYyhcImltZ1wiLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgc3JjOlxuICAgICAgICAgICAgXCJodHRwczovL3BpYzEuemhpbWcuY29tLzgwL3YyLTUxZmZlYjZmNmUxZjIyMWViZTI3N2EwOWI0MzI4MGU0X3IuanBnXCIsXG4gICAgICAgICAgYWx0OiBcIlwiXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiZWwtY2FyZFwiLCBbXG4gICAgICAgIF9jKFwidWxcIiwgW1xuICAgICAgICAgIF9jKFwibGlcIiwgW1xuICAgICAgICAgICAgX2MoXCJoM1wiLCB7IHN0YXRpY0NsYXNzOiBcIm5hbWVcIiB9LCBbX3ZtLl92KFwiQWNjb3VudFwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICFfdm0uaW5mb09iai51c2VybmFtZVxuICAgICAgICAgICAgICA/IF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhfdm0uaW5mb0RhdGEudXNlcm5hbWUpKV0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcImgzXCIsIFtfdm0uX3YoXCJBZGRyZXNzXCIpXSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgIV92bS5pbmZvT2JqLnJlYWxfbmFtZVxuICAgICAgICAgICAgICA/IF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhfdm0uaW5mb0RhdGEucmVhbF9uYW1lKSldKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwibGlcIiwgW1xuICAgICAgICAgICAgX2MoXCJoM1wiLCBbX3ZtLl92KFwiQmFsYW5jZVwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICFfdm0uaW5mb09iai5nZW5kZXJcbiAgICAgICAgICAgICAgPyBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIiB9LCBbXG4gICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW1xuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5nZW5kZXJNYXBbX3ZtLmluZm9EYXRhLmdlbmRlcl0pKVxuICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlZGl0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5pc0VkaXQoXCJnZW5kZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1pY29uLWVkaXRcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIg5L+u5pS5XFxuICAgICAgICAgIFwiKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgOiBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImZvcm1cIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImVsLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgbGFiZWw6IFwiMVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm1EYXRhLmdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtRGF0YSwgXCJnZW5kZXJcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm1EYXRhLmdlbmRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi55S3XCIpXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImVsLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgbGFiZWw6IFwiMlwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm1EYXRhLmdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtRGF0YSwgXCJnZW5kZXJcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm1EYXRhLmdlbmRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi5aWzXCIpXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiYnRuXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNpemU6IFwic21hbGxcIiwgdHlwZTogXCJwcmltYXJ5XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uU3VibWl0KFwiZ2VuZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi56Gu5a6aXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNpemU6IFwic21hbGxcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2FuY2VsKFwiZ2VuZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi5Y+W5raIXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICBdKVxuICAgICAgICBdKVxuICAgICAgXSlcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cInVzZXItcGFnZVwiPlxuICAgIDxpbWdcbiAgICAgIHNyYz1cImh0dHBzOi8vcGljMS56aGltZy5jb20vODAvdjItNTFmZmViNmY2ZTFmMjIxZWJlMjc3YTA5YjQzMjgwZTRfci5qcGdcIlxuICAgICAgYWx0PVwiXCJcbiAgICAvPlxuICAgIDxlbC1jYXJkPlxuICAgICAgPHVsPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGgzIGNsYXNzPVwibmFtZVwiPkFjY291bnQ8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCIgdi1pZj1cIiFpbmZvT2JqLnVzZXJuYW1lXCI+XG4gICAgICAgICAgICA8c3Bhbj57eyBpbmZvRGF0YS51c2VybmFtZSB9fTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxoMz5BZGRyZXNzPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiIHYtaWY9XCIhaW5mb09iai5yZWFsX25hbWVcIj5cbiAgICAgICAgICAgIDxzcGFuPnt7IGluZm9EYXRhLnJlYWxfbmFtZSB9fTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxoMz5CYWxhbmNlPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiIHYtaWY9XCIhaW5mb09iai5nZW5kZXJcIj5cbiAgICAgICAgICAgIDxzcGFuPnt7IGdlbmRlck1hcFtpbmZvRGF0YS5nZW5kZXJdIH19PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVkaXRcIiBAY2xpY2s9XCJpc0VkaXQoJ2dlbmRlcicpXCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiZWwtaWNvbi1lZGl0XCI+PC9pPiDkv67mlLlcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtXCIgdi1lbHNlPlxuICAgICAgICAgICAgPGVsLXJhZGlvIHYtbW9kZWw9XCJmb3JtRGF0YS5nZW5kZXJcIiBsYWJlbD1cIjFcIj7nlLc8L2VsLXJhZGlvPlxuICAgICAgICAgICAgPGVsLXJhZGlvIHYtbW9kZWw9XCJmb3JtRGF0YS5nZW5kZXJcIiBsYWJlbD1cIjJcIj7lpbM8L2VsLXJhZGlvPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0blwiPlxuICAgICAgICAgICAgICA8ZWwtYnV0dG9uIHNpemU9XCJzbWFsbFwiIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwib25TdWJtaXQoJ2dlbmRlcicpXCJcbiAgICAgICAgICAgICAgICA+56Gu5a6aPC9lbC1idXR0b25cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZWwtYnV0dG9uIHNpemU9XCJzbWFsbFwiIEBjbGljaz1cImNhbmNlbCgnZ2VuZGVyJylcIj7lj5bmtog8L2VsLWJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICA8L2VsLWNhcmQ+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IHVzZXJJbmZvLCB1c2VyRWRpdCB9IGZyb20gXCJAL2FwaS91c2VyXCI7XG5pbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSBcInZ1ZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcInVzZXItcGFnZVwiLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbmZvT2JqOiB7XG4gICAgICAgIHVzZXJuYW1lOiBmYWxzZSwgLy8g55So5oi35ZCNXG4gICAgICAgIGdlbmRlcjogZmFsc2UsIC8vIOaAp+WIq1xuICAgICAgICBwaG9uZTogZmFsc2UsIC8vIOaJi+acuuWPt1xuICAgICAgICByZWFsX25hbWU6IGZhbHNlLCAvLyDnnJ/lrp7lp5PlkI1cbiAgICAgICAgc25vOiBmYWxzZSwgLy8g5a2m5Y+3XG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3M6IGZhbHNlLCAvLyDmlLbotKflnLDlnYBcbiAgICAgIH0sXG4gICAgICBnZW5kZXJNYXA6IHtcbiAgICAgICAgMDogXCLlhbbku5ZcIixcbiAgICAgICAgMTogXCLnlLdcIixcbiAgICAgICAgMjogXCLlpbNcIixcbiAgICAgIH0sXG4gICAgICBpbmZvRGF0YToge30sXG4gICAgICBmb3JtRGF0YToge30sXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICAuLi5tYXBHZXR0ZXJzKFwiZ2xvYmFsXCIsIFtcInVpZFwiXSksXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBhc3luYyBnZXRJbml0KCkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdXNlckluZm8oe1xuICAgICAgICB1aWQ6IHRoaXMudWlkLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmluZm9EYXRhID0gcmVzIHx8IHt9O1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5pbmZvRGF0YSkpO1xuICAgIH0sXG5cbiAgICBpc0VkaXQoa2V5KSB7XG4gICAgICB0aGlzLmluZm9PYmpba2V5XSA9IHRydWU7XG4gICAgfSxcbiAgICBjYW5jZWwoa2V5KSB7XG4gICAgICB0aGlzLmZvcm1EYXRhW2tleV0gPSB0aGlzLmluZm9EYXRhW2tleV07XG4gICAgICB0aGlzLmluZm9PYmpba2V5XSA9IGZhbHNlO1xuICAgIH0sXG4gICAgLy8g5omL5py65Y+35qCh6aqMXG4gICAgY2hlY2tQaG9uZShwaG9uZSkge1xuICAgICAgaWYgKFxuICAgICAgICAhL14oMTNbMC05XXwxNFswMTQ1Njg3OV18MTVbMC0zNS05XXwxNlsyNTY3XXwxN1swLThdfDE4WzAtOV18MTlbMC0zNS05XSlcXGR7OH0kLy50ZXN0KFxuICAgICAgICAgIE51bWJlcihwaG9uZSlcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhcIuaJi+acuuWPt+eggeacieivr++8jOivt+mHjeWhq1wiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBvblN1Ym1pdChrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09IFwidXNlcm5hbWVcIiAmJiAhdGhpcy5mb3JtYXRVc2VybmFtZSh0aGlzLmZvcm1EYXRhW2tleV0pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwicGhvbmVcIiAmJiAhdGhpcy5jaGVja1Bob25lKHRoaXMuZm9ybURhdGFba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSBcInNub1wiICYmIGAke3RoaXMuZm9ybURhdGFba2V5XX1gLmxlbmd0aCA8IDkpIHtcbiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKFwi6K+36L6T5YWl5Lmd5L2N5a2m5Y+3XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5mb09ialtrZXldID0gZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLmZvcm1EYXRhW2tleV0gPT09IHRoaXMuaW5mb0RhdGFba2V5XSkgcmV0dXJuO1xuICAgICAgYXdhaXQgdXNlckVkaXQodGhpcy5mb3JtRGF0YSk7XG4gICAgICB0aGlzLmdldEluaXQoKTtcbiAgICB9LFxuICAgIGZvcm1hdFVzZXJuYW1lKHVzZXJuYW1lKSB7XG4gICAgICBpZiAoIXVzZXJuYW1lKSB7XG4gICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhcIuivt+i+k+WFpeeUqOaIt+WQjVwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVnID0gL15bYS16QS1aXXsxfShbYS16QS1aMC05XXxbLl9dKXszLDEwfSQvO1xuICAgICAgaWYgKCFyZWcudGVzdCh1c2VybmFtZSkpIHtcbiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKFwi6K+36L6T5YWl5Lul5a2X5q+N5byA5aS055qENH4xMOS9jeeUqOaIt+WQjVwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLmdldEluaXQoKTtcbiAgfSxcbn07XG48L3NjcmlwdD5cbjxzdHlsZSBsYW5nPVwibGVzc1wiIHNjb3BlZD5cbkBpbXBvcnQgXCIuL2luZGV4XCI7XG48L3N0eWxlPlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdiNWUzNjE0JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTdiNWUzNjE0Jmxhbmc9bGVzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiN2I1ZTM2MTRcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvVXNlcnMvbWFjL0Rlc2t0b3AvcHJvamVjdC9hcHBjb2luL25mdC9zcmMvc2Vjb25kaGFuZC1zaG9wL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzdiNWUzNjE0JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzdiNWUzNjE0JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzdiNWUzNjE0JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9pbmRleC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9N2I1ZTM2MTQmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignN2I1ZTM2MTQnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy92aWV3cy91c2VySW5mby9pbmRleC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9