(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[738,658],{3703:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shop-page"},[n("div",{staticClass:"content-card"},[n("div",{staticClass:"content"},[n("div",{staticClass:"shop-img"},[n("img",{attrs:{src:e.shopping.img_url,alt:""}})]),e._v(" "),n("ul",[n("li",[n("span",[e._v("Product：")]),e._v(" "+e._s(e.shopping.title))]),e._v(" "),n("li",[n("span",[e._v("NFT ID：")]),e._v(" "+e._s(e.shopping.create_id))]),e._v(" "),n("li",{staticClass:"price"},[n("span",[e._v("Price：")]),e._v(" $"+e._s(e.shopping.price?e.shopping.price:"0")+"\n        ")]),e._v(" "),n("li",[n("span",[e._v("CID：")]),e._v(" "+e._s(e.shopping.cid))]),e._v(" "),n("li",[n("span",[e._v("Views：")]),e._v(" "+e._s(e.shopping.browse_num))]),e._v(" "),n("li",[n("span",[e._v("Brief：")]),e._v(" "+e._s(e.shopping.brief))]),e._v(" "),n("li",[n("span",[e._v("Tag：")]),e._v(" "),n("i",{staticClass:"el-icon-price-tag"}),e._v("\n          "+e._s(e.shopping.tag)+"\n        ")]),e._v(" "),n("li",[n("span",[e._v("Release time： ")]),e._v(" "),n("i",{staticClass:"el-icon-date"}),e._v("\n          "+e._s(e.shopping.fetch_time)+"\n        ")]),e._v(" "),n("li",[n("span",[e._v("Owned by： ")]),e._v(" "),n("i",{staticClass:"el-icon-user"}),e._v("\n          "+e._s(e.shopping.email)+"\n        ")]),e._v(" "),n("li",{staticClass:"price"},[n("span",[e._v("Your balance： ")]),e._v("\n          $"+e._s(e.balance)+"\n        ")])])]),e._v(" "),n("div",{staticClass:"add-shop"},[n("el-button",{attrs:{type:"primary",disabled:e.no_enough_balance},on:{click:e.addCart}},[n("i",{staticClass:"el-icon-shopping-cart-2"}),e._v(" BUY")])],1)])])};s._withStripped=!0;var i=n(2137),a=n(6156),o=n(7757),r=n.n(o),c=(n(106),n(7957)),l=n(4557);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}n(4618);const _={name:"shop-page",data:function(){return{shopping:{},content:"",mesgList:[],dialogVisible:!1,cartState:!1,shop_count:1,email:localStorage.getItem("email"),token:localStorage.getItem("token"),create_id:"",balance:0,no_enough_balance:0}},filters:{getUsername:function(e,t){var n="";return Object.keys(t).length&&t.some((function(t){if(t.uid===e)return n=t.username,!0})),n}},components:{ShopEdit:l.default},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,c.mapGetters)("global",["sort_map","uid","username_map","level_map"])),created:function(){this.getInit()},methods:{getInit:function(){var e=this;return(0,i.Z)(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.$route.query.id,e.get_market_goods_info(n);case 2:case"end":return t.stop()}}),t)})))()},get_market_goods_info:function(e){var t=this;axios.get("http://rest.cata.show/Market_goods/get_market_goods_info?id="+e).then((function(e){t.shopping=e.data.result[0],t.create_id=t.shopping.create_id,t.get_balance()}))},get_balance:function(){var e=this;axios.get("http://rest.cata.show/Market_goods/get_balance?email="+this.email).then((function(t){e.balance=t.data.result[0].balance,console.log("check balance",e.balance,e.shopping.price,e.balance<e.shopping.price,Number(e.balance)<Number(e.shopping.price)),Number(e.balance)<Number(e.shopping.price)&&(e.no_enough_balance=1)}))},addCart:function(){var e=this;this.cartState=!0,axios.get("http://rest.cata.show/user_operation/buy_pic?create_id="+this.create_id+"&email="+this.email).then((function(t){console.log(t.data.result),e.$router.push("/my/shoping")}))}}};var u=(0,n(1900).Z)(_,s,[],!1,null,"087da545",null);u.options.__file="src/views/shopDetails/index.vue";const h=u.exports},4557:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"修改商品信息",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("ShopForm",e._g(e._b({on:{close:e.handleClose}},"ShopForm",e.$attrs,!1),e.$listeners))],1)};s._withStripped=!0;const i={name:"demo",components:{ShopForm:n(5818).Z},props:{dialogVisible:!1},data:function(){return{}},methods:{handleClose:function(){this.$emit("close")}}};var a=(0,n(1900).Z)(i,s,[],!1,null,"591a94c0",null);a.options.__file="src/views/shopDetails/shopEdit/index.vue";const o=a.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvdmlld3Mvc2hvcERldGFpbHMvaW5kZXgudnVlPzUzNjMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3NyYy92aWV3cy9zaG9wRGV0YWlscy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL3ZpZXdzL3Nob3BEZXRhaWxzL2luZGV4LnZ1ZT8xYTJkIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy92aWV3cy9zaG9wRGV0YWlscy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL3ZpZXdzL3Nob3BEZXRhaWxzL3Nob3BFZGl0L2luZGV4LnZ1ZT80Yjc1Iiwid2VicGFjazovL3dlYnBhY2stZGVtby9zcmMvdmlld3Mvc2hvcERldGFpbHMvc2hvcEVkaXQvaW5kZXgudnVlIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy92aWV3cy9zaG9wRGV0YWlscy9zaG9wRWRpdC9pbmRleC52dWU/N2E4NiIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvdmlld3Mvc2hvcERldGFpbHMvc2hvcEVkaXQvaW5kZXgudnVlIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJzcmMiLCJzaG9wcGluZyIsImltZ191cmwiLCJhbHQiLCJfdiIsIl9zIiwidGl0bGUiLCJjcmVhdGVfaWQiLCJwcmljZSIsImNpZCIsImJyb3dzZV9udW0iLCJicmllZiIsInRhZyIsImZldGNoX3RpbWUiLCJlbWFpbCIsImJhbGFuY2UiLCJ0eXBlIiwiZGlzYWJsZWQiLCJub19lbm91Z2hfYmFsYW5jZSIsIm9uIiwiY2xpY2siLCJhZGRDYXJ0IiwiX3dpdGhTdHJpcHBlZCIsIm5hbWUiLCJkYXRhIiwiY29udGVudCIsIm1lc2dMaXN0IiwiZGlhbG9nVmlzaWJsZSIsImNhcnRTdGF0ZSIsInNob3BfY291bnQiLCJ0b2tlbiIsImZpbHRlcnMiLCJnZXRVc2VybmFtZSIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJsZW5ndGgiLCJ1c2VybmFtZSIsImNvbXBvbmVudHMiLCJTaG9wRWRpdCIsImNvbXB1dGVkIiwiY3JlYXRlZCIsImdldEluaXQiLCJtZXRob2RzIiwiZ2V0X21hcmtldF9nb29kc19pbmZvIiwiYXhpb3MiLCJnZXQiLCJnZXRfYmFsYW5jZSIsImNvbXBvbmVudCIsIm9wdGlvbnMiLCJfX2ZpbGUiLCJ2aXNpYmxlIiwid2lkdGgiLCJoYW5kbGVDbG9zZSIsIiRldmVudCIsIl9nIiwiX2IiLCJjbG9zZSIsIiRhdHRycyIsIiRsaXN0ZW5lcnMiLCJTaG9wRm9ybSIsInByb3BzIiwiJGVtaXQiXSwibWFwcGluZ3MiOiI2SUFBQSxJQUFJQSxFQUFTLFdBQ1gsSUFBSUMsRUFBTUMsS0FDTkMsRUFBS0YsRUFBSUcsZUFDVEMsRUFBS0osRUFBSUssTUFBTUQsSUFBTUYsRUFDekIsT0FBT0UsRUFBRyxNQUFPLENBQUVFLFlBQWEsYUFBZSxDQUM3Q0YsRUFBRyxNQUFPLENBQUVFLFlBQWEsZ0JBQWtCLENBQ3pDRixFQUFHLE1BQU8sQ0FBRUUsWUFBYSxXQUFhLENBQ3BDRixFQUFHLE1BQU8sQ0FBRUUsWUFBYSxZQUFjLENBQ3JDRixFQUFHLE1BQU8sQ0FBRUcsTUFBTyxDQUFFQyxJQUFLUixFQUFJUyxTQUFTQyxRQUFTQyxJQUFLLFFBRXZEWCxFQUFJWSxHQUFHLEtBQ1BSLEVBQUcsS0FBTSxDQUNQQSxFQUFHLEtBQU0sQ0FDUEEsRUFBRyxPQUFRLENBQUNKLEVBQUlZLEdBQUcsY0FDbkJaLEVBQUlZLEdBQUcsSUFBTVosRUFBSWEsR0FBR2IsRUFBSVMsU0FBU0ssVUFFbkNkLEVBQUlZLEdBQUcsS0FDUFIsRUFBRyxLQUFNLENBQ1BBLEVBQUcsT0FBUSxDQUFDSixFQUFJWSxHQUFHLGFBQ25CWixFQUFJWSxHQUFHLElBQU1aLEVBQUlhLEdBQUdiLEVBQUlTLFNBQVNNLGNB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QixJR3pCcEIsRUFDQSxLQUNBLFdBQ0EsTUF1QkZ5RCxFQUFVQyxRQUFRQyxPQUFTLDJDQUMzQixRQUFlRixFIiwiZmlsZSI6ImpzLzczOC5kYTdmYjMwMTczNTRkZDQ0ZTViYy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJzaG9wLXBhZ2VcIiB9LCBbXG4gICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjb250ZW50LWNhcmRcIiB9LCBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIiB9LCBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwic2hvcC1pbWdcIiB9LCBbXG4gICAgICAgICAgX2MoXCJpbWdcIiwgeyBhdHRyczogeyBzcmM6IF92bS5zaG9wcGluZy5pbWdfdXJsLCBhbHQ6IFwiXCIgfSB9KVxuICAgICAgICBdKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJ1bFwiLCBbXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIlByb2R1Y3TvvJpcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiArIF92bS5fcyhfdm0uc2hvcHBpbmcudGl0bGUpKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIk5GVCBJRO+8mlwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiICsgX3ZtLl9zKF92bS5zaG9wcGluZy5jcmVhdGVfaWQpKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCB7IHN0YXRpY0NsYXNzOiBcInByaWNlXCIgfSwgW1xuICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoXCJQcmljZe+8mlwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICBcIiAkXCIgK1xuICAgICAgICAgICAgICAgIF92bS5fcyhfdm0uc2hvcHBpbmcucHJpY2UgPyBfdm0uc2hvcHBpbmcucHJpY2UgOiBcIjBcIikgK1xuICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICBcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIkNJRO+8mlwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiICsgX3ZtLl9zKF92bS5zaG9wcGluZy5jaWQpKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIlZpZXdz77yaXCIpXSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIgKyBfdm0uX3MoX3ZtLnNob3BwaW5nLmJyb3dzZV9udW0pKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIkJyaWVm77yaXCIpXSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIgKyBfdm0uX3MoX3ZtLnNob3BwaW5nLmJyaWVmKSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwibGlcIiwgW1xuICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoXCJUYWfvvJpcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1pY29uLXByaWNlLXRhZ1wiIH0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgICAgIFwiICsgX3ZtLl9zKF92bS5zaG9wcGluZy50YWcpICsgXCJcXG4gICAgICAgIFwiKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJsaVwiLCBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIlJlbGVhc2UgdGltZe+8miBcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1pY29uLWRhdGVcIiB9KSxcbiAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgXCIgKyBfdm0uX3MoX3ZtLnNob3BwaW5nLmZldGNoX3RpbWUpICsgXCJcXG4gICAgICAgIFwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImxpXCIsIFtcbiAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KFwiT3duZWQgYnnvvJogXCIpXSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtaWNvbi11c2VyXCIgfSksXG4gICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICAgICAgXCIgKyBfdm0uX3MoX3ZtLnNob3BwaW5nLmVtYWlsKSArIFwiXFxuICAgICAgICBcIilcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwibGlcIiwgeyBzdGF0aWNDbGFzczogXCJwcmljZVwiIH0sIFtcbiAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KFwiWW91ciBiYWxhbmNl77yaIFwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgICAgICRcIiArIF92bS5fcyhfdm0uYmFsYW5jZSkgKyBcIlxcbiAgICAgICAgXCIpXG4gICAgICAgICAgXSlcbiAgICAgICAgXSlcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImFkZC1zaG9wXCIgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJlbC1idXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJwcmltYXJ5XCIsIGRpc2FibGVkOiBfdm0ubm9fZW5vdWdoX2JhbGFuY2UgfSxcbiAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5hZGRDYXJ0IH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWljb24tc2hvcHBpbmctY2FydC0yXCIgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBCVVlcIilcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgIClcbiAgICBdKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cInNob3AtcGFnZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWNhcmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wLWltZ1wiPlxuICAgICAgICAgIDxpbWcgOnNyYz1cInNob3BwaW5nLmltZ191cmxcIiBhbHQ9XCJcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIDxsaT48c3Bhbj5Qcm9kdWN077yaPC9zcGFuPiB7eyBzaG9wcGluZy50aXRsZSB9fTwvbGk+XG4gICAgICAgICAgPGxpPjxzcGFuPk5GVCBJRO+8mjwvc3Bhbj4ge3sgIHNob3BwaW5nLmNyZWF0ZV9pZCB9fTwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzPVwicHJpY2VcIj5cbiAgICAgICAgICAgIDxzcGFuPlByaWNl77yaPC9zcGFuPiAke3sgc2hvcHBpbmcucHJpY2UgPyBzaG9wcGluZy5wcmljZSA6IFwiMFwiIH19XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+PHNwYW4+Q0lE77yaPC9zcGFuPiB7eyBzaG9wcGluZy5jaWQgfX08L2xpPlxuICAgICAgICAgIDxsaT48c3Bhbj5WaWV3c++8mjwvc3Bhbj4ge3sgc2hvcHBpbmcuYnJvd3NlX251bSB9fTwvbGk+XG5cbiAgICAgICAgICA8bGk+PHNwYW4+QnJpZWbvvJo8L3NwYW4+IHt7IHNob3BwaW5nLmJyaWVmIH19PC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3Bhbj5UYWfvvJo8L3NwYW4+IDxpIGNsYXNzPVwiZWwtaWNvbi1wcmljZS10YWdcIj48L2k+XG4gICAgICAgICAgICB7e3Nob3BwaW5nLnRhZyB9fVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4+UmVsZWFzZSB0aW1l77yaIDwvc3Bhbj4gPGkgY2xhc3M9XCJlbC1pY29uLWRhdGVcIj48L2k+XG4gICAgICAgICAgICB7eyBzaG9wcGluZy5mZXRjaF90aW1lIH19XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3Bhbj5Pd25lZCBiee+8miA8L3NwYW4+IDxpIGNsYXNzPVwiZWwtaWNvbi11c2VyXCI+PC9pPlxuICAgICAgICAgICAge3sgc2hvcHBpbmcuZW1haWwgfX1cbiAgICAgICAgICA8L2xpPlxuXG4gICAgICAgICAgPGxpIGNsYXNzPVwicHJpY2VcIj5cbiAgICAgICAgICAgIDxzcGFuPllvdXIgYmFsYW5jZe+8miA8L3NwYW4+XG4gICAgICAgICAgICAke3sgYmFsYW5jZSB9fVxuICAgICAgICAgIDwvbGk+XG5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiYWRkLXNob3BcIj5cbiAgICAgICAgPGVsLWJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImFkZENhcnRcIiA6ZGlzYWJsZWQ9XCJub19lbm91Z2hfYmFsYW5jZVwiPjxpIGNsYXNzPVwiZWwtaWNvbi1zaG9wcGluZy1jYXJ0LTJcIj48L2k+IEJVWTwvZWwtYnV0dG9uPlxuXG4gICAgICAgIDwhLS08ZGl2Pi0tPlxuICAgICAgICAgIDwhLS08ZGl2IEBjbGljaz1cImFkZENhcnRcIiBjbGFzcz1cImJ0blwiIDpkaXNhYmxlZD1cIjFcIj4tLT5cbiAgICAgICAgICAgIDwhLS08aSBjbGFzcz1cImVsLWljb24tc2hvcHBpbmctY2FydC0yXCI+PC9pPiBCVVktLT5cbiAgICAgICAgICA8IS0tPC9kaXY+LS0+XG4gICAgICAgIDwhLS08L2Rpdj4tLT5cbiAgICAgICAgPCEtLTxkaXYgdi1lbHNlPi0tPlxuICAgICAgICAgIDwhLS08ZWwtYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwiaGFuZGxlRWRpdFwiIGNsYXNzPVwiZWwtaWNvbi1lZGl0XCI+e3stLT5cbiAgICAgICAgICAgIDwhLS1zaG9wcGluZy5kaXNwbGF5ID09IDIgPyBcIuWNluWujOWVpumHjeaWsOS4iuaetlwiIDogXCLkv67mlLlcIi0tPlxuICAgICAgICAgIDwhLS19fTwvZWwtYnV0dG9uPi0tPlxuICAgICAgICAgIDwhLS08ZWwtYnV0dG9uIEBjbGljaz1cInJlbW92ZVNob3BcIiBjbGFzcz1cImVsLWljb24tZGVsZXRlXCItLT5cbiAgICAgICAgICAgIDwhLS0mZ3Q75Yig6Zmk5ZWG5ZOBLS0+XG4gICAgICAgICAgPCEtLTwvZWwtYnV0dG9uPi0tPlxuICAgICAgICA8IS0tPC9kaXY+LS0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0g55WZ6KiAIC0tPlxuICAgIDwhLS08ZGl2IGNsYXNzPVwic2hvcC1tZXNzYWdlXCI+LS0+XG4gICAgICA8IS0tPGRpdiBjbGFzcz1cInRpdGxlXCI+TWVzc2FnZTo8L2Rpdj4tLT5cbiAgICAgIDwhLS08dWw+LS0+XG4gICAgICAgIDwhLS08bGkgdi1mb3I9XCJpdGVtIG9mIG1lc2dMaXN0XCIgOmtleT1cIml0ZW0uaWRcIj4tLT5cbiAgICAgICAgICA8IS0tPGRpdiBjbGFzcz1cInVzZXItbmFtZVwiPi0tPlxuICAgICAgICAgICAgPCEtLTxkaXY+LS0+XG4gICAgICAgICAgICAgIDwhLS3nlKjmiLflkI3vvJp7eyBpdGVtLnVzZXJuYW1lIH19LS0+XG4gICAgICAgICAgICAgIDwhLS08ZWwtbGluay0tPlxuICAgICAgICAgICAgICAgIDwhLS06dHlwZT1cIml0ZW0udWlkID09IHNob3BwaW5nLnVpZCA/ICdwcmltYXJ5JyA6ICdzdWNjZXNzJ1wiLS0+XG4gICAgICAgICAgICAgICAgPCEtLTp1bmRlcmxpbmU9XCJmYWxzZVwiLS0+XG4gICAgICAgICAgICAgIDwhLS0mZ3Q7LS0+XG4gICAgICAgICAgICAgICAgPCEtLXt7IGl0ZW0udWlkID09IHNob3BwaW5nLnVpZCA/IFwi5Y2W5a62XCIgOiBcIuS5sOWutlwiIH19PC9lbC1saW5rLS0+XG4gICAgICAgICAgICAgIDwhLS0mZ3Q7LS0+XG4gICAgICAgICAgICA8IS0tPC9kaXY+LS0+XG4gICAgICAgICAgICA8IS0tPGRpdj4tLT5cbiAgICAgICAgICAgICAgPCEtLXt7IGl0ZW0uY3JlYXRlX3RpbWUgfCBmb3JtYXRUaW1lLS0+XG4gICAgICAgICAgICAgIDwhLS19fTxzcGFuIHYtaWY9XCJpdGVtLnVpZCA9PSB1aWRcIiBAY2xpY2s9XCJoYW5kbGVEZWxldGUoaXRlbSlcIi0tPlxuICAgICAgICAgICAgICAgIDwhLS0mZ3Q75Yig6ZmkPC9zcGFuLS0+XG4gICAgICAgICAgICAgIDwhLS0mZ3Q7LS0+XG4gICAgICAgICAgICA8IS0tPC9kaXY+LS0+XG4gICAgICAgICAgPCEtLTwvZGl2Pi0tPlxuICAgICAgICAgIDwhLS08ZGl2IGNsYXNzPVwidGV4dFwiPnt7IGl0ZW0uY29udGVudCB9fTwvZGl2Pi0tPlxuICAgICAgICA8IS0tPC9saT4tLT5cbiAgICAgIDwhLS08L3VsPi0tPlxuICAgICAgPCEtLTxkaXYgY2xhc3M9XCJtZXNzYWdlLXRleHRcIj4tLT5cbiAgICAgICAgPCEtLTxlbC1pbnB1dC0tPlxuICAgICAgICAgIDwhLS10eXBlPVwidGV4dGFyZWFcIi0tPlxuICAgICAgICAgIDwhLS06cm93cz1cIjRcIi0tPlxuICAgICAgICAgIDwhLS1wbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWGheWuuVwiLS0+XG4gICAgICAgICAgPCEtLXYtbW9kZWw9XCJjb250ZW50XCItLT5cbiAgICAgICAgPCEtLSZndDstLT5cbiAgICAgICAgPCEtLTwvZWwtaW5wdXQ+LS0+XG4gICAgICA8IS0tPC9kaXY+LS0+XG4gICAgICA8IS0tPGRpdiBjbGFzcz1cImFkZC1tZXNzYWdlXCI+LS0+XG4gICAgICAgIDwhLS08ZWwtYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwiaGFuZGxlQWRkTWVzZ1wiPuWPkeW4g+eVmeiogDwvZWwtYnV0dG9uPi0tPlxuICAgICAgPCEtLTwvZGl2Pi0tPlxuICAgIDwhLS08L2Rpdj4tLT5cblxuICAgIDwhLS0g57yW6L6R5ZWG5ZOBIC0tPlxuICAgIDwhLS08U2hvcEVkaXQtLT5cbiAgICAgIDwhLS1Ac3VibWl0PVwib25FZGl0U3VtYml0XCItLT5cbiAgICAgIDwhLS06ZGlhbG9nVmlzaWJsZT1cImRpYWxvZ1Zpc2libGVcIi0tPlxuICAgICAgPCEtLUBjbG9zZT1cIm9uRWRpdENsb3NlXCItLT5cbiAgICAgIDwhLS06Zm9ybT1cInNob3BwaW5nXCItLT5cbiAgICA8IS0tLz4tLT5cblxuICAgIDwhLS08ZWwtZGlhbG9nLS0+XG4gICAgICA8IS0tdGl0bGU9XCLpgInmi6nmlbDph4/otK3nianovaZcIi0tPlxuICAgICAgPCEtLTp2aXNpYmxlLnN5bmM9XCJjYXJ0U3RhdGVcIi0tPlxuICAgICAgPCEtLXdpZHRoPVwiMzAlXCItLT5cbiAgICAgIDwhLS06YmVmb3JlLWNsb3NlPVwiaGFuZGxlQ2FydENsb3NlXCItLT5cbiAgICA8IS0tJmd0Oy0tPlxuICAgICAgPCEtLTxzcGFuPui0reS5sOaVsOmHjzwvc3Bhbj4tLT5cbiAgICAgIDwhLS08ZWwtaW5wdXQtbnVtYmVyLS0+XG4gICAgICAgIDwhLS12LW1vZGVsPVwic2hvcF9jb3VudFwiLS0+XG4gICAgICAgIDwhLS06bWluPVwiMVwiLS0+XG4gICAgICAgIDwhLS06bWF4PVwic2hvcHBpbmcuY291bnRcIi0tPlxuICAgICAgPCEtLSZndDs8L2VsLWlucHV0LW51bWJlcj4tLT5cbiAgICAgIDwhLS08c3BhbiBzbG90PVwiZm9vdGVyXCIgY2xhc3M9XCJkaWFsb2ctZm9vdGVyXCI+LS0+XG4gICAgICAgIDwhLS08ZWwtYnV0dG9uIEBjbGljaz1cImhhbmRsZUNhcnRDbG9zZVwiPuWPliDmtog8L2VsLWJ1dHRvbj4tLT5cbiAgICAgICAgPCEtLTxlbC1idXR0b24gdHlwZT1cInByaW1hcnlcIiBAY2xpY2s9XCJvbkFkZFNob3BDYXJ0XCI+56GuIOWumjwvZWwtYnV0dG9uPi0tPlxuICAgICAgPCEtLTwvc3Bhbj4tLT5cbiAgICA8IS0tPC9lbC1kaWFsb2c+LS0+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7XG4gIGdldFNob3BJdGVtLFxuICBnZXRTaG9wTWVzZ0xpc3QsXG4gIGFkZFNob3BNZXNnLFxuICBkZWxldGVTaG9wTWVzZyxcbiAgcmVtb3ZlU2hvcCxcbiAgZWRpdFNob3AsXG59IGZyb20gXCJAL2FwaS9zaG9wXCJcbmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tIFwidnVleFwiXG5pbXBvcnQgU2hvcEVkaXQgZnJvbSBcIi4vc2hvcEVkaXRcIlxuaW1wb3J0IHsgYWRkU2hvcENhcnQgfSBmcm9tIFwiQC9hcGkvc2hvcC9zaG9wQ2FydFwiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJzaG9wLXBhZ2VcIixcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvcHBpbmc6IHt9LFxuICAgICAgY29udGVudDogXCJcIixcbiAgICAgIG1lc2dMaXN0OiBbXSxcbiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLFxuICAgICAgY2FydFN0YXRlOiBmYWxzZSwgLy8g6LSt54mp6L2m54q25oCBXG4gICAgICBzaG9wX2NvdW50OiAxLFxuICAgICAgZW1haWw6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksXG4gICAgICB0b2tlbjpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgIGNyZWF0ZV9pZDpcIlwiLFxuICAgICAgYmFsYW5jZTowLFxuICAgICAgbm9fZW5vdWdoX2JhbGFuY2U6MCxcbiAgICB9XG4gIH0sXG4gIGZpbHRlcnM6IHtcbiAgICBnZXRVc2VybmFtZSh1aWQsIG1hcCkge1xuICAgICAgbGV0IHVzZXJuYW1lID0gXCJcIlxuICAgICAgT2JqZWN0LmtleXMobWFwKS5sZW5ndGggJiZcbiAgICAgICAgbWFwLnNvbWUoKHVzZXIpID0+IHtcbiAgICAgICAgICBpZiAodXNlci51aWQgPT09IHVpZCkge1xuICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VyLnVzZXJuYW1lXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIHJldHVybiB1c2VybmFtZVxuICAgIH0sXG4gIH0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBTaG9wRWRpdCxcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICAuLi5tYXBHZXR0ZXJzKFwiZ2xvYmFsXCIsIFtcInNvcnRfbWFwXCIsIFwidWlkXCIsIFwidXNlcm5hbWVfbWFwXCIsIFwibGV2ZWxfbWFwXCJdKSxcbiAgfSxcbiAgY3JlYXRlZCgpIHtcbiAgICB0aGlzLmdldEluaXQoKVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgYXN5bmMgZ2V0SW5pdCgpIHtcbiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWRcbiAgICAgIHRoaXMuZ2V0X21hcmtldF9nb29kc19pbmZvKGlkKVxuICAgICAgLy90aGlzLmdldF9iYWxhbmNlKHRoaXMuZW1haWwpIC8v6I635b6X5L2Z6aKdXG4gICAgfSxcblxuICAgIGdldF9tYXJrZXRfZ29vZHNfaW5mbyhpZCkge1xuICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vcmVzdC5jYXRhLnNob3cvTWFya2V0X2dvb2RzL2dldF9tYXJrZXRfZ29vZHNfaW5mbz9pZD0nK2lkKS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5kYXRhLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5zaG9wcGluZyA9IHJlcy5kYXRhLnJlc3VsdFswXTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlX2lkID0gdGhpcy5zaG9wcGluZy5jcmVhdGVfaWQ7XG5cbiAgICAgICAgICAgICAgICAgIC8v6I635b6X5L2Z6aKdXG4gICAgICAgICAgICAgICAgICB0aGlzLmdldF9iYWxhbmNlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgIClcbiAgICB9LFxuXG4gICAgZ2V0X2JhbGFuY2UoKSB7XG4gICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9yZXN0LmNhdGEuc2hvdy9NYXJrZXRfZ29vZHMvZ2V0X2JhbGFuY2U/ZW1haWw9Jyt0aGlzLmVtYWlsKS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxhbmNlID0gcmVzLmRhdGEucmVzdWx0WzBdLmJhbGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGVjayBiYWxhbmNlXCIsIHRoaXMuYmFsYW5jZSwgdGhpcy5zaG9wcGluZy5wcmljZSwgdGhpcy5iYWxhbmNlPHRoaXMuc2hvcHBpbmcucHJpY2UsTnVtYmVyKHRoaXMuYmFsYW5jZSk8TnVtYmVyKHRoaXMuc2hvcHBpbmcucHJpY2UpKVxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIodGhpcy5iYWxhbmNlKTxOdW1iZXIodGhpcy5zaG9wcGluZy5wcmljZSkpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMubm9fZW5vdWdoX2JhbGFuY2UgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgKVxuICAgIH0sXG4gICAgLy/otK3kubBcbiAgICBhZGRDYXJ0KCkge1xuICAgICAgdGhpcy5jYXJ0U3RhdGUgPSB0cnVlXG4gICAgICAvL+W9k+WJjeWcqOWUruWNlueahOWPquacieS4gOS4qlxuICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vcmVzdC5jYXRhLnNob3cvdXNlcl9vcGVyYXRpb24vYnV5X3BpYz9jcmVhdGVfaWQ9JysgdGhpcy5jcmVhdGVfaWQgICsnJmVtYWlsPScrdGhpcy5lbWFpbCkudGhlbigocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgLy/ot7PovazliLDmiJHnmoTllYblk4HpobVcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiL215L3Nob3BpbmdcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgIClcbiAgICB9LFxuXG5cbiAgfSxcblxufVxuPC9zY3JpcHQ+XG48c3R5bGUgbGFuZz1cImxlc3NcIiBzY29wZWQ+XG5AaW1wb3J0IFwiLi9pbmRleC5sZXNzXCI7XG48L3N0eWxlPlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA4N2RhNTQ1JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTA4N2RhNTQ1Jmxhbmc9bGVzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMDg3ZGE1NDVcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvVXNlcnMvbWFjL0Rlc2t0b3AvcHJvamVjdC9hcHBjb2luL25mdC9zcmMvc2Vjb25kaGFuZC1zaG9wL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzA4N2RhNTQ1JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzA4N2RhNTQ1JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzA4N2RhNTQ1JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9pbmRleC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDg3ZGE1NDUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDg3ZGE1NDUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy92aWV3cy9zaG9wRGV0YWlscy9pbmRleC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZWwtZGlhbG9nXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdGl0bGU6IFwi5L+u5pS55ZWG5ZOB5L+h5oGvXCIsXG4gICAgICAgIHZpc2libGU6IF92bS5kaWFsb2dWaXNpYmxlLFxuICAgICAgICB3aWR0aDogXCI2MCVcIixcbiAgICAgICAgXCJiZWZvcmUtY2xvc2VcIjogX3ZtLmhhbmRsZUNsb3NlXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJ1cGRhdGU6dmlzaWJsZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICBfdm0uZGlhbG9nVmlzaWJsZSA9ICRldmVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcbiAgICAgICAgXCJTaG9wRm9ybVwiLFxuICAgICAgICBfdm0uX2coXG4gICAgICAgICAgX3ZtLl9iKFxuICAgICAgICAgICAgeyBvbjogeyBjbG9zZTogX3ZtLmhhbmRsZUNsb3NlIH0gfSxcbiAgICAgICAgICAgIFwiU2hvcEZvcm1cIixcbiAgICAgICAgICAgIF92bS4kYXR0cnMsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLiRsaXN0ZW5lcnNcbiAgICAgICAgKVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxuICA8ZWwtZGlhbG9nXG4gICAgdGl0bGU9XCLkv67mlLnllYblk4Hkv6Hmga9cIlxuICAgIDp2aXNpYmxlLnN5bmM9XCJkaWFsb2dWaXNpYmxlXCJcbiAgICB3aWR0aD1cIjYwJVwiXG4gICAgOmJlZm9yZS1jbG9zZT1cImhhbmRsZUNsb3NlXCJcbiAgPlxuICAgIDxTaG9wRm9ybSB2LWJpbmQ9XCIkYXR0cnNcIiBAY2xvc2U9XCJoYW5kbGVDbG9zZVwiIHYtb249XCIkbGlzdGVuZXJzXCIgLz5cbiAgPC9lbC1kaWFsb2c+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IFNob3BGb3JtIGZyb20gXCJAL2NvbXBvbmVudHMvU2hvcEZvcm1cIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcImRlbW9cIixcbiAgY29tcG9uZW50czoge1xuICAgIFNob3BGb3JtLFxuICB9LFxuICBwcm9wczoge1xuICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLFxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGhhbmRsZUNsb3NlKCkge1xuICAgICAgdGhpcy4kZW1pdChcImNsb3NlXCIpO1xuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG48c3R5bGUgbGFuZz1cImxlc3NcIiBzY29wZWQ+PC9zdHlsZT5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01OTFhOTRjMCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNTkxYTk0YzBcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvVXNlcnMvbWFjL0Rlc2t0b3AvcHJvamVjdC9hcHBjb2luL25mdC9zcmMvc2Vjb25kaGFuZC1zaG9wL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzU5MWE5NGMwJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzU5MWE5NGMwJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzU5MWE5NGMwJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9pbmRleC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTkxYTk0YzAmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTkxYTk0YzAnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy92aWV3cy9zaG9wRGV0YWlscy9zaG9wRWRpdC9pbmRleC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9