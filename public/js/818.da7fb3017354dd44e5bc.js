(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[818],{5818:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-shop"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"商品标题",prop:"title"}},[r("el-input",{model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"商品单价",prop:"price"}},[r("el-input-number",{attrs:{precision:2,min:.01,max:9999},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"商品数量",prop:"count"}},[r("el-input-number",{attrs:{min:1,max:99},model:{value:e.formData.count,callback:function(t){e.$set(e.formData,"count",t)},expression:"formData.count"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"商品成色",prop:"level"}},[r("el-select",{attrs:{placeholder:"请选择商品成色"},model:{value:e.formData.level,callback:function(t){e.$set(e.formData,"level",t)},expression:"formData.level"}},e._l(e.level_map,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:t-0}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"详情",prop:"information"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.formData.information,callback:function(t){e.$set(e.formData,"information",t)},expression:"formData.information"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"分类",prop:"sort"}},[r("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}},e._l(e.sort_map,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:t-0}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"商品图片"}},[r("ImageUpdate",{ref:"updateImg",on:{success:e.onSuccess}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("发布商品")]),e._v(" "),e.formData.id?r("el-button",{on:{click:e.onClose}},[e._v("关闭")]):r("el-button",{on:{click:e.onClear}},[e._v("清空")])],1)],1)],1)};o._withStripped=!0;var a=r(6156),n=r(7957),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"upload-img-comp"},[r("el-upload",{ref:"upload",attrs:{action:"","http-request":e.Upload,"list-type":"picture-card","auto-upload":!1,multiple:!1,limit:1,accept:".png,.jpg,.jpeg,.gif, .bmp","on-change":e.onChange},scopedSlots:e._u([{key:"file",fn:function(t){var o=t.file;return r("div",{},[r("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:o.url,alt:""}}),e._v(" "),r("span",{staticClass:"el-upload-list__item-actions"},[r("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(o)}}},[r("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),e.disabled?e._e():r("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(o)}}},[r("i",{staticClass:"el-icon-delete"})])])])}}])},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible,modal:!1,"close-on-click-modal":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{src:e.dialogImageUrl,alt:""}})])],1)};i._withStripped=!0,r(7777);var s=r(2137),l=r(7757),c=r.n(l),u=r(2409),m=r.n(u),p=r(1395),f="daes-1251985304",d="ap-shanghai",g=function(){var e=(0,s.Z)(c().mark((function e(t){var r,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,o="".concat("shop/image/").concat(Date.now()).concat(r),a=new(m())({getAuthorization:function(){var e=(0,s.Z)(c().mark((function e(t,r){var a,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.d5)({key:o});case 2:a=e.sent,n=a&&a.credentials,r({TmpSecretId:n.tmpSecretId,TmpSecretKey:n.tmpSecretKey,XCosSecurityToken:n.sessionToken,ExpiredTime:a.expiredTime});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}),e.abrupt("return",new Promise((function(e,r){a.putObject({Bucket:f,Region:d,Key:o,StorageClass:"STANDARD",Body:t,onProgress:function(e){}},(function(t){if(t)return r(t);a.getObjectUrl({Bucket:f,Region:d,Key:o,Sign:!1},(function(t,o){if(t)return r(t);e(o.Url)}))}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}const v={computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,n.mapGetters)("global",["token"])),data:function(){return{dialogImageUrl:"",dialogVisible:!1,disabled:!1,isImage:!1}},methods:{handleRemove:function(e){this.$refs.upload.clearFiles(),this.isImage=!1},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},submit:function(){this.$refs.upload.submit()},onChange:function(e){e.url&&(this.isImage=!0)},Upload:function(e){var t=this;g(e.file).then((function(e){t.$emit("success",e)})).catch((function(e){t.$emit("error",e)}))}}};var h=r(1900),_=(0,h.Z)(v,i,[],!1,null,null,null);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_.options.__file="src/components/common/ImgUpdate.vue";const D={name:"shop-form-comp",props:{form:{}},components:{ImageUpdate:_.exports},computed:O({},(0,n.mapGetters)("global",["level_map","sort_map"])),data:function(){return{rules:{title:[{required:!0,message:"请输入商品标题",trigger:"blur"}],price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],count:[{required:!0,message:"请输入商品数量",trigger:"blur"}],information:[{required:!0,message:"请输入商品详情",trigger:"blur"}],level:[{required:!0,message:"请选择商品成色",trigger:"change"}],sort:[{required:!0,message:"请选择商品分类",trigger:"change"}]},formData:this.getInit()||{}}},methods:{getInit:function(){var e={count:1,price:.01};for(var t in this.form)e[t]=this.form[t];return e},onSuccess:function(e){this.$emit("submit",O(O({},this.formData),{},{image:e}))},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return e.$message.warning("完善表单");if(e.formData.id&&!e.$refs.updateImg.isImage)e.$emit("submit",e.formData);else{if(!e.$refs.updateImg.isImage)return e.$message.warning("请上传商品图片");e.$refs.updateImg.submit()}}))},onClear:function(){this.$refs.form.resetFields()},onClose:function(){this.$emit("close")}}};var k=(0,h.Z)(D,o,[],!1,null,"0365140a",null);k.options.__file="src/components/ShopForm.vue";const w=k.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvY29tcG9uZW50cy9TaG9wRm9ybS52dWU/MWU4MSIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vSW1nVXBkYXRlLnZ1ZT8zZTIwIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9zZGsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3NyYy9jb21wb25lbnRzL2NvbW1vbi9JbWdVcGRhdGUudnVlIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9JbWdVcGRhdGUudnVlPzZlYTUiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL2NvbXBvbmVudHMvY29tbW9uL0ltZ1VwZGF0ZS52dWUiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3NyYy9jb21wb25lbnRzL1Nob3BGb3JtLnZ1ZSIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvY29tcG9uZW50cy9TaG9wRm9ybS52dWU/NzU4MiIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvY29tcG9uZW50cy9TaG9wRm9ybS52dWU/NTdlYiJdLCJuYW1lcyI6WyJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsInJlZiIsImF0dHJzIiwicnVsZXMiLCJtb2RlbCIsImZvcm1EYXRhIiwibGFiZWwiLCJwcm9wIiwidmFsdWUiLCJ0aXRsZSIsImNhbGxiYWNrIiwiJCR2IiwiJHNldCIsImV4cHJlc3Npb24iLCJfdiIsInByZWNpc2lvbiIsIm1pbiIsIm1heCIsInByaWNlIiwiY291bnQiLCJwbGFjZWhvbGRlciIsImxldmVsIiwiX2wiLCJsZXZlbF9tYXAiLCJpdGVtIiwia2V5IiwidHlwZSIsImluZm9ybWF0aW9uIiwic29ydCIsInNvcnRfbWFwIiwib24iLCJzdWNjZXNzIiwib25TdWNjZXNzIiwiY2xpY2siLCJvblN1Ym1pdCIsImlkIiwib25DbG9zZSIsIm9uQ2xlYXIiLCJfd2l0aFN0cmlwcGVkIiwiYWN0aW9uIiwiVXBsb2FkIiwibXVsdGlwbGUiLCJsaW1pdCIsImFjY2VwdCIsIm9uQ2hhbmdlIiwic2NvcGVkU2xvdHMiLCJfdSIsImZuIiwiZmlsZSIsInNyYyIsInVybCIsImFsdCIsIiRldmVudCIsImhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyIsImRpc2FibGVkIiwiX2UiLCJoYW5kbGVSZW1vdmUiLCJzbG90IiwidmlzaWJsZSIsImRpYWxvZ1Zpc2libGUiLCJtb2RhbCIsImRpYWxvZ0ltYWdlVXJsIiwiQ29uZmlnIiwidXBsb2FkU2RrIiwiZmlsZU9iamVjdCIsIm5hbWUiLCJEYXRlIiwibm93IiwiY29zIiwiQ09TIiwiZ2V0QXV0aG9yaXphdGlvbiIsIl8iLCJnZXRPc3NDb25maWciLCJkYXRhIiwiY3JlZGVudGlhbHMiLCJUbXBTZWNyZXRJZCIsInRtcFNlY3JldElkIiwiVG1wU2VjcmV0S2V5IiwidG1wU2VjcmV0S2V5IiwiWENvc1NlY3VyaXR5VG9rZW4iLCJzZXNzaW9uVG9rZW4iLCJFeHBpcmVkVGltZSIsImV4cGlyZWRUaW1lIiwiUHJvbWlzZSIsInJlcyIsInJlaiIsInB1dE9iamVjdCIsIkJ1Y2tldCIsIlJlZ2lvbiIsIktleSIsIlN0b3JhZ2VDbGFzcyIsIkJvZHkiLCJvblByb2dyZXNzIiwicHJvZ3Jlc3NEYXRhIiwiZXJyIiwiZ2V0T2JqZWN0VXJsIiwiU2lnbiIsIlVybCIsImNvbXB1dGVkIiwiaXNJbWFnZSIsIm1ldGhvZHMiLCIkcmVmcyIsInVwbG9hZCIsImNsZWFyRmlsZXMiLCJzdWJtaXQiLCJjb21wb25lbnQiLCJvcHRpb25zIiwiX19maWxlIiwicHJvcHMiLCJmb3JtIiwiY29tcG9uZW50cyIsIkltYWdlVXBkYXRlIiwiZ2V0SW5pdCIsIm9iaiIsIiRlbWl0IiwiaW1hZ2UiLCJpbWFnZVVybCIsInZhbGlkYXRlIiwidmFsaWQiLCJyZXNldEZpZWxkcyJdLCJtYXBwaW5ncyI6IjRIQUFBLElBQUlBLEVBQVMsV0FDWCxJQUFJQyxFQUFNQyxLQUNOQyxFQUFLRixFQUFJRyxlQUNUQyxFQUFLSixFQUFJSyxNQUFNRCxJQUFNRixFQUN6QixPQUFPRSxFQUNMLE1BQ0EsQ0FBRUUsWUFBYSxhQUNmLENBQ0VGLEVBQ0UsVUFDQSxDQUNFRyxJQUFLLE9BQ0xDLE1BQU8sQ0FDTEMsTUFBT1QsRUFBSVMsTUFDWEMsTUFBT1YsRUFBSVcsU0FDWCxjQUFlLFNBR25CLENBQ0VQLEVBQ0UsZUFDQSxDQUFFSSxNQUFPLENBQUVJLE1BQU8sT0FBUUMsS0FBTSxVQUNoQyxDQUNFVCxFQUFHLFdBQVksQ0FDYk0sTUFBTyxDQUNMSSxNQUFPZCxFQUFJVyxTQUFTSSxNQUNwQkMsU0FBVSxTQUFTQyxHQUNqQmpCLEVBQUlrQixLQUFLbEIsRUFBSVcsU0FBVSxRQUFTTSxJQUVsQ0UsV0FBWSxxQkFJbEIsR0FFRm5CLEVBQUlvQixHQUFHLEtBQ1BoQixFQUNFLGVBQ0EsQ0FBRUksTUFBTyxDQUFFSSxNQUFPLE9BQVFDLEtBQU0sVUFDaEMsQ0FDRVQsRUFBRyxrQkFBbUIsQ0FDcEJJLE1BQU8sQ0FBRWEsVUFBVyxFQUFHQyxJQUFLLElBQU1DLElBQUssTUFDdkNiLE1BQU8sQ0FDTEksTUFBT2QsRUFBSVcsU0FBU2EsTUFDcEJSLFNBQVUsU0FBU0MsR0FDakJqQixFQUFJa0IsS0FBS2xCLEVBQUlXLFNBQVUsUUFBU00sSUFFbENFLFdBQVkscUJBSWxCLEdBRUZuQixFQUFJb0IsR0FBRyxLQUNQaEIsRUFDRSxlQUNBLENBQUVJLE1BQU8sQ0FBRUksTUFBTyxPQUFRQyxLQUFNLFVBQ2hDLENBQ0VULEVBQUcsa0JBQW1CLENBQ3BCSSxNQUFPLENBQUVjLElBQUssRUFBR0MsSUFBSyxJQUN0QmIsTUFBTyxDQUNMSSxNQUFPZCxFQUFJVyxTQUFTYyxNQUNwQlQsU0FBVSxTQUFTQyxHQUNqQmpCLEVBQUlrQixLQUFLbEIsRUFBSVcsU0FBVSxRQUFTTSxJQUVsQ0UsV0FBWSxxQkFJbEIsR0FFRm5CLEVBQUlvQixHQUFHLEtBQ1BoQixFQUNFLGVBQ0EsQ0FBRUksTUFBTyxDQUFFSSxNQUFPLE9BQVFDLEtBQU0sVUFDaEMsQ0FDRVQsRUFDRSxZQUNBLENBQ0VJLE1BQU8sQ0FBRWtCLFlBQWEsV0FDdEJoQixNQUFPLENBQ0xJLE1BQU9kLEVBQUlXLFNBQVNnQixNQUNwQlgsU0FBVSxTQUFTQyxHQUNqQmpCLEVBQUlrQixLQUFLbEIsRUFBSVcsU0FBVSxRQUFTTSxJQUVsQ0UsV0FBWSxtQkFHaEJuQixFQUFJNEIsR0FBRzVCLEVBQUk2QixXQUFXLFNBQVNDLEVBQU1DLEdBQ25DLE9BQU8zQixFQUFHLFlBQWEsQ0FDckIyQixJQUFLQSxFQUNMdkIsTUFBTyxDQUFFSSxNQUFPa0IsRUFBTWhCLE1BQU9pQixFQUFNLFFBR3ZDLElBR0osR0FFRi9CLEVBQUlvQixHQUFHLEtBQ1BoQixFQUNFLGVBQ0EsQ0FBRUksTUFBTyxDQUFFSSxNQUFPLEtBQU1DLEtBQU0sZ0JBQzlCLENBQ0VULEVBQUcsV0FBWSxDQUNiSSxNQUFPLENBQUV3QixLQUFNLFlBQ2Z0QixNQUFPLENBQ0xJLE1BQU9kLEVBQUlXLFNBQVNzQixZQUNwQmpCLFNBQVUsU0FBU0MsR0FDakJqQixFQUFJa0IsS0FBS2xCLEVBQUlXLFNBQVUsY0FBZU0sSUFFeENFLFdBQVksMkJBSWxCLEdBRUZuQixFQUFJb0IsR0FBRyxLQUNQaEIsRUFDRSxlQUNBLENBQUVJLE1BQU8sQ0FBRUksTUFBTyxLQUFNQyxLQUFNLFNBQzlCLENBQ0VULEVBQ0UsWUFDQSxDQUNFSSxNQUFPLENBQUVrQixZQUFhLFNBQ3RCaEIsTUFBTyxDQUNMSSxNQUFPZCxFQUFJVyxTQUFTdUIsS0FDcEJsQixTQUFVLFNBQVNDLEdBQ2pCakIsRUFBSWtCLEtBQUtsQixFQUFJVyxTQUFVLE9BQVFNLElBRWpDRSxXQUFZLGtCQUdoQm5CLEVBQUk0QixHQUFHNUIsRUFBSW1DLFVBQVUsU0FBU0wsRUFBTUMsR0FDbEMsT0FBTzNCLEVBQUcsWUFBYSxDQUNyQjJCLElBQUtBLEVBQ0x2QixNQUFPLENBQUVJLE1BQU9rQixFQUFNaEIsTUFBT2lCLEVBQU0sUUFHdkMsSUFHSixHQUVGL0IsRUFBSW9CLEdBQUcsS0FDUGhCLEVBQ0UsZUFDQSxDQUFFSSxNQUFPLENBQUVJLE1BQU8sU0FDbEIsQ0FDRVIsRUFBRyxjQUFlLENBQ2hCRyxJQUFLLFlBQ0w2QixHQUFJLENBQUVDLFFBQVNyQyxFQUFJc0MsY0FHdkIsR0FFRnRDLEVBQUlvQixHQUFHLEtBQ1BoQixFQUNFLGVBQ0EsQ0FDRUEsRUFDRSxZQUNBLENBQUVJLE1BQU8sQ0FBRXdCLEtBQU0sV0FBYUksR0FBSSxDQUFFRyxNQUFPdkMsRUFBSXdDLFdBQy9DLENBQUN4QyxFQUFJb0IsR0FBRyxVQUVWcEIsRUFBSW9CLEdBQUcsS0FDTnBCLEVBQUlXLFNBQVM4QixHQUlWckMsRUFBRyxZQUFhLENBQUVnQyxHQUFJLENBQUVHLE1BQU92QyxFQUFJMEMsVUFBYSxDQUM5QzFDLEVBQUlvQixHQUFHLFFBSlRoQixFQUFHLFlBQWEsQ0FBRWdDLEdBQUksQ0FBRUcsTUFBT3ZDLEVBQUkyQyxVQUFhLENBQzlDM0MsRUFBSW9CLEdBQUcsU0FNZixJQUdKLElBR0osSUFJSnJCLEVBQU82QyxlQUFnQixFLHdCQ3pMbkIsRUFBUyxXQUNYLElBQUk1QyxFQUFNQyxLQUNOQyxFQUFLRixFQUFJRyxlQUNUQyxFQUFLSixFQUFJSyxNQUFNRCxJQUFNRixFQUN6QixPQUFPRSxFQUNMLE1BQ0EsQ0FBRUUsWUFBYSxtQkFDZixDQUNFRixFQUNFLFlBQ0EsQ0FDRUcsSUFBSyxTQUNMQyxNQUFPLENBQ0xxQyxPQUFRLEdBQ1IsZUFBZ0I3QyxFQUFJOEMsT0FDcEIsWUFBYSxlQUNiLGVBQWUsRUFDZkMsVUFBVSxFQUNWQyxNQUFPLEVBQ1BDLE9BQVEsNkJBQ1IsWUFBYWpELEVBQUlrRCxVQUVuQkMsWUFBYW5ELEVBQUlvRCxHQUFHLENBQ2xCLENBQ0VyQixJQUFLLE9BQ0xzQixHQUFJLFNBQVM5QyxHQUNYLElBQUkrQyxFQUFPL0MsRUFBSStDLEtBQ2YsT0FBT2xELEVBQUcsTUFBTyxHQUFJLENBQ25CQSxFQUFHLE1BQU8sQ0FDUkUsWUFBYSxpQ0FDYkUsTUFBTyxDQUFFK0MsSUFBS0QsRUFBS0UsSUFBS0MsSUFBSyxNQUUvQnpELEVBQUlvQixHQUFHLEtBQ1BoQixFQUFHLE9BQVEsQ0FBRUUsWUFBYSxnQ0FBa0MsQ0FDMURGLEVBQ0UsT0FDQSxDQUNFRSxZQUFhLCtCQUNiOEIsR0FBSSxDQUNGRyxNQUFPLFNBQVNtQixHQUNkLE9BQU8xRCxFQUFJMkQseUJBQXlCTCxNQUkxQyxDQUFDbEQsRUFBRyxJQUFLLENBQUVFLFlBQWEsc0JBRTFCTixFQUFJb0IsR0FBRyxLQUNOcEIsRUFBSTRELFNBYUQ1RCxFQUFJNkQsS0FaSnpELEVBQ0UsT0FDQSxDQUNFRSxZQUFhLDhCQUNiOEIsR0FBSSxDQUNGRyxNQUFPLFNBQVNtQixHQUNkLE9BQU8xRCxFQUFJOEQsYUFBYVIsTUFJOUIsQ0FBQ2xELEVBQUcsSUFBSyxDQUFFRSxZQUFhLDhCQVMxQyxDQUNFRixFQUFHLElBQUssQ0FDTkUsWUFBYSxlQUNiRSxNQUFPLENBQUV1RCxLQUFNLFdBQ2ZBLEtBQU0sY0FJWi9ELEVBQUlvQixHQUFHLEtBQ1BoQixFQUNFLFlBQ0EsQ0FDRUksTUFBTyxDQUNMd0QsUUFBU2hFLEVBQUlpRSxjQUNiQyxPQUFPLEVBQ1Asd0JBQXdCLEdBRTFCOUIsR0FBSSxDQUNGLGlCQUFrQixTQUFTc0IsR0FDekIxRCxFQUFJaUUsY0FBZ0JQLEtBSTFCLENBQUN0RCxFQUFHLE1BQU8sQ0FBRUksTUFBTyxDQUFFK0MsSUFBS3ZELEVBQUltRSxlQUFnQlYsSUFBSyxTQUd4RCxJQUlKLEVBQU9iLGVBQWdCLEUsc0VDN0ZqQndCLEVBQ0ksa0JBREpBLEVBRUksY0FVR0MsRUFBUyxtQ0FBRyxXQUFPQyxHQUFQLGtGQUNqQkMsRUFBU0QsRUFBVEMsS0FDQWYsRUFGaUIsVUFQVCxlQU9TLE9BRUVnQixLQUFLQyxPQUZQLE9BRWVGLEdBRWhDRyxFQUFNLElBQUlDLElBQUosQ0FBUSxDQUNsQkMsaUJBQWtCLFdBQUYsd0JBQUUsV0FBZ0JDLEVBQUc3RCxHQUFuQiwwRkFFRzhELFFBQWEsQ0FDOUIvQyxJQUFLeUIsSUFIUyxPQUVWdUIsRUFGVSxPQU1WQyxFQUFjRCxHQUFRQSxFQUFLQyxZQUNqQ2hFLEVBQVMsQ0FDUGlFLFlBQWFELEVBQVlFLFlBQ3pCQyxhQUFjSCxFQUFZSSxhQUMxQkMsa0JBQW1CTCxFQUFZTSxhQUMvQkMsWUFBYVIsRUFBS1MsY0FYSiwyQ0FBRixxREFBRSxLQUxHLGtCQW9CaEIsSUFBSUMsU0FBUSxTQUFDQyxFQUFLQyxHQUV2QmpCLEVBQUlrQixVQUFVLENBQ1pDLE9BQVF6QixFQUNSMEIsT0FBUTFCLEVBQ1IyQixJQUFLdkMsRUFDTHdDLGFBQWMsV0FDZEMsS0FBTTNCLEVBRU40QixXQUFZLFNBQVVDLE9BR3JCLFNBQVVDLEdBQ1gsR0FBSUEsRUFBSyxPQUFPVCxFQUFJUyxHQUVwQjFCLEVBQUkyQixhQUFhLENBQ2ZSLE9BQVF6QixFQUNSMEIsT0FBUTFCLEVBQ1IyQixJQUFLdkMsRUFDTDhDLE1BQU0sSUFDTCxTQUFVRixFQUFLckIsR0FDaEIsR0FBSXFCLEVBQ0YsT0FBT1QsRUFBSVMsR0FFYlYsRUFBSVgsRUFBS3dCLGVBNUNRLDJDQUFILHNELDhOQzRCdEIsTUM1Q2dMLEVENENoTCxDQUNFQyxTLHFXQUFVLENBQVosSUFDQSxxQ0FFRXpCLEtBSkYsV0FLSSxNQUFPLENBQ0xaLGVBQWdCLEdBQ2hCRixlQUFlLEVBQ2ZMLFVBQVUsRUFDVjZDLFNBQVMsSUFHYkMsUUFBUyxDQUNQNUMsYUFESixTQUNBLEdBQ003RCxLQUFLMEcsTUFBTUMsT0FBT0MsYUFDbEI1RyxLQUFLd0csU0FBVSxHQUVqQjlDLHlCQUxKLFNBS0EsR0FDTTFELEtBQUtrRSxlQUFpQmIsRUFBS0UsSUFDM0J2RCxLQUFLZ0UsZUFBZ0IsR0FHdkI2QyxPQVZKLFdBV003RyxLQUFLMEcsTUFBTUMsT0FBT0UsVUFFcEI1RCxTQWJKLFNBYUEsR0FDV0ksRUFBS0UsTUFDVnZELEtBQUt3RyxTQUFVLElBRWpCM0QsT0FqQkosU0FpQkEsY0FDTXVCLEVBQVVmLEVBQUtBLE1BQ3JCLGtCQUVRLEVBQVIsc0JBSEEsT0FLQSxZQUNRLEVBQVIsdUIsY0V6RUl5RCxHQUFZLE9BQ2QsRUFDQSxFSnVGb0IsSUlyRnBCLEVBQ0EsS0FDQSxLQUNBLE0scWtCQXVCRkEsRUFBVUMsUUFBUUMsT0FBUyxzQ0N1QjNCLE1DNUR5SyxFRDREekssQ0FDRTFDLEtBQU0saUJBQ04yQyxNQUFPLENBQ0xDLEtBQU0sSUFFUkMsV0FBWSxDQUNWQyxZRDVCV04sRSxTQzhCYlAsU0FBVSxFQUFaLElBQ0Esb0RBRUV6QixLQVhGLFdBWUksTUFBTyxDQUNMdEUsTUFBTyxDQUNMTSxNQUFPLENBQUMsQ0FBaEIsK0NBQ1FTLE1BQU8sQ0FBQyxDQUFoQiwrQ0FDUUMsTUFBTyxDQUFDLENBQWhCLCtDQUNRUSxZQUFhLENBQ3JCLENBQVUsVUFBVixFQUFVLFFBQVYsVUFBVSxRQUFWLFNBRVFOLE1BQU8sQ0FDZixDQUFVLFVBQVYsRUFBVSxRQUFWLFVBQVUsUUFBVixXQUVRTyxLQUFNLENBQ2QsQ0FBVSxVQUFWLEVBQVUsUUFBVixVQUFVLFFBQVYsWUFHTXZCLFNBQVVWLEtBQUtxSCxXQUFhLEtBR2hDWixRQUFTLENBQ1BZLFFBREosV0FFTSxJQUFOLEdBQ1E3RixNQUFPLEVBQ1BELE1BQU8sS0FFVCxJQUFLLElBQVgsZUFDUStGLEVBQUl4RixHQUFPOUIsS0FBS2tILEtBQUtwRixHQUV2QixPQUFPd0YsR0FHVGpGLFVBWkosU0FZQSxHQUNNckMsS0FBS3VILE1BQU0sU0FBVSxFQUEzQixLQUNBLGVBREEsSUFFUUMsTUFBT0MsTUFHWGxGLFNBbEJKLFdBa0JBLFdBQ012QyxLQUFLMEcsTUFBTVEsS0FBS1EsVUFBUyxTQUEvQixHQUNRLElBQUtDLEVBQU8sT0FBTyxFQUEzQix5QkFFUSxHQUFJLEVBQVosd0NBQ1UsRUFBViwrQkFDQSxDQUVVLElBQUssRUFBZix3QkFDQSxxQ0FDVSxFQUFWLDhCQUlJakYsUUFoQ0osV0FpQ00xQyxLQUFLMEcsTUFBWSxLQUFFa0IsZUFFckJuRixRQW5DSixXQW9DTXpDLEtBQUt1SCxNQUFNLFlFdEhqQixJQUFJLEdBQVksT0FDZCxFQUNBekgsRVI4S29CLElRNUtwQixFQUNBLEtBQ0EsV0FDQSxNQXVCRixFQUFVaUgsUUFBUUMsT0FBUyw4QkFDM0IsUUFBZSxFIiwiZmlsZSI6ImpzLzgxOC5kYTdmYjMwMTczNTRkZDQ0ZTViYy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IHN0YXRpY0NsYXNzOiBcImZvcm0tc2hvcFwiIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZWwtZm9ybVwiLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmOiBcImZvcm1cIixcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgcnVsZXM6IF92bS5ydWxlcyxcbiAgICAgICAgICAgIG1vZGVsOiBfdm0uZm9ybURhdGEsXG4gICAgICAgICAgICBcImxhYmVsLXdpZHRoXCI6IFwiODBweFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLllYblk4HmoIfpophcIiwgcHJvcDogXCJ0aXRsZVwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJlbC1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybURhdGEudGl0bGUsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtRGF0YSwgXCJ0aXRsZVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtRGF0YS50aXRsZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLllYblk4HljZXku7dcIiwgcHJvcDogXCJwcmljZVwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJlbC1pbnB1dC1udW1iZXJcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHByZWNpc2lvbjogMiwgbWluOiAwLjAxLCBtYXg6IDk5OTkgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtRGF0YS5wcmljZSxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmZvcm1EYXRhLCBcInByaWNlXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm1EYXRhLnByaWNlXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZWwtZm9ybS1pdGVtXCIsXG4gICAgICAgICAgICB7IGF0dHJzOiB7IGxhYmVsOiBcIuWVhuWTgeaVsOmHj1wiLCBwcm9wOiBcImNvdW50XCIgfSB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImVsLWlucHV0LW51bWJlclwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgbWluOiAxLCBtYXg6IDk5IH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybURhdGEuY291bnQsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtRGF0YSwgXCJjb3VudFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtRGF0YS5jb3VudFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLllYblk4HmiJDoibJcIiwgcHJvcDogXCJsZXZlbFwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJlbC1zZWxlY3RcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogXCLor7fpgInmi6nllYblk4HmiJDoibJcIiB9LFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtRGF0YS5sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtRGF0YSwgXCJsZXZlbFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybURhdGEubGV2ZWxcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5sZXZlbF9tYXAsIGZ1bmN0aW9uKGl0ZW0sIGtleSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFwiZWwtb3B0aW9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGxhYmVsOiBpdGVtLCB2YWx1ZToga2V5IC0gMCB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLor6bmg4VcIiwgcHJvcDogXCJpbmZvcm1hdGlvblwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJlbC1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJ0ZXh0YXJlYVwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybURhdGEuaW5mb3JtYXRpb24sXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtRGF0YSwgXCJpbmZvcm1hdGlvblwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtRGF0YS5pbmZvcm1hdGlvblwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLliIbnsbtcIiwgcHJvcDogXCJzb3J0XCIgfSB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImVsLXNlbGVjdFwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiBcIuivt+mAieaLqeWIhuexu1wiIH0sXG4gICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm1EYXRhLnNvcnQsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybURhdGEsIFwic29ydFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybURhdGEuc29ydFwiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLnNvcnRfbWFwLCBmdW5jdGlvbihpdGVtLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcImVsLW9wdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBsYWJlbDogaXRlbSwgdmFsdWU6IGtleSAtIDAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJlbC1mb3JtLWl0ZW1cIixcbiAgICAgICAgICAgIHsgYXR0cnM6IHsgbGFiZWw6IFwi5ZWG5ZOB5Zu+54mHXCIgfSB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcIkltYWdlVXBkYXRlXCIsIHtcbiAgICAgICAgICAgICAgICByZWY6IFwidXBkYXRlSW1nXCIsXG4gICAgICAgICAgICAgICAgb246IHsgc3VjY2VzczogX3ZtLm9uU3VjY2VzcyB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZWwtZm9ybS1pdGVtXCIsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiZWwtYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgeyBhdHRyczogeyB0eXBlOiBcInByaW1hcnlcIiB9LCBvbjogeyBjbGljazogX3ZtLm9uU3VibWl0IH0gfSxcbiAgICAgICAgICAgICAgICBbX3ZtLl92KFwi5Y+R5biD5ZWG5ZOBXCIpXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAhX3ZtLmZvcm1EYXRhLmlkXG4gICAgICAgICAgICAgICAgPyBfYyhcImVsLWJ1dHRvblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0ub25DbGVhciB9IH0sIFtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwi5riF56m6XCIpXG4gICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIDogX2MoXCJlbC1idXR0b25cIiwgeyBvbjogeyBjbGljazogX3ZtLm9uQ2xvc2UgfSB9LCBbXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuWFs+mXrVwiKVxuICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJ1cGxvYWQtaW1nLWNvbXBcIiB9LFxuICAgIFtcbiAgICAgIF9jKFxuICAgICAgICBcImVsLXVwbG9hZFwiLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmOiBcInVwbG9hZFwiLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBhY3Rpb246IFwiXCIsXG4gICAgICAgICAgICBcImh0dHAtcmVxdWVzdFwiOiBfdm0uVXBsb2FkLFxuICAgICAgICAgICAgXCJsaXN0LXR5cGVcIjogXCJwaWN0dXJlLWNhcmRcIixcbiAgICAgICAgICAgIFwiYXV0by11cGxvYWRcIjogZmFsc2UsXG4gICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICBsaW1pdDogMSxcbiAgICAgICAgICAgIGFjY2VwdDogXCIucG5nLC5qcGcsLmpwZWcsLmdpZiwgLmJtcFwiLFxuICAgICAgICAgICAgXCJvbi1jaGFuZ2VcIjogX3ZtLm9uQ2hhbmdlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBcImZpbGVcIixcbiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKHJlZikge1xuICAgICAgICAgICAgICAgIHZhciBmaWxlID0gcmVmLmZpbGVcbiAgICAgICAgICAgICAgICByZXR1cm4gX2MoXCJkaXZcIiwge30sIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiaW1nXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdXBsb2FkLWxpc3RfX2l0ZW0tdGh1bWJuYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNyYzogZmlsZS51cmwsIGFsdDogXCJcIiB9XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJlbC11cGxvYWQtbGlzdF9faXRlbS1hY3Rpb25zXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC11cGxvYWQtbGlzdF9faXRlbS1wcmV2aWV3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5oYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWljb24tem9vbS1pblwiIH0pXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAhX3ZtLmRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC11cGxvYWQtbGlzdF9faXRlbS1kZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZVJlbW92ZShmaWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWljb24tZGVsZXRlXCIgfSldXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSlcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiaVwiLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1pY29uLXBsdXNcIixcbiAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwiZGVmYXVsdFwiIH0sXG4gICAgICAgICAgICBzbG90OiBcImRlZmF1bHRcIlxuICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZWwtZGlhbG9nXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdmlzaWJsZTogX3ZtLmRpYWxvZ1Zpc2libGUsXG4gICAgICAgICAgICBtb2RhbDogZmFsc2UsXG4gICAgICAgICAgICBcImNsb3NlLW9uLWNsaWNrLW1vZGFsXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcInVwZGF0ZTp2aXNpYmxlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICBfdm0uZGlhbG9nVmlzaWJsZSA9ICRldmVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW19jKFwiaW1nXCIsIHsgYXR0cnM6IHsgc3JjOiBfdm0uZGlhbG9nSW1hZ2VVcmwsIGFsdDogXCJcIiB9IH0pXVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiLy8g5LiK5Lygb3NzXG5pbXBvcnQgQ09TIGZyb20gJ2Nvcy1qcy1zZGstdjUnO1xuaW1wb3J0IHsgZ2V0T3NzQ29uZmlnIH0gZnJvbSAnQC9hcGkvaW5pdCc7XG5cbmNvbnN0IENvbmZpZyA9IHtcbiAgQnVja2V0OiAnZGFlcy0xMjUxOTg1MzA0JywvLyDlrZjlgqjmobbnmoTlkI3np7BcbiAgUmVnaW9uOiAnYXAtc2hhbmdoYWknLCAgLyog5a2Y5YKo5qG25omA5Zyo5Zyw5Z+f77yM5b+F6aG75a2X5q61ICovXG59O1xuXG5jb25zdCBrZXlCYXNlID0gYHNob3AvaW1hZ2UvYDsgIC8vIOS4iuS8oOaWh+S7tiDot6/lvoRcblxuXG5cbi8qKlxuICog6K+35rGC5L2TXG4gKi9cbmV4cG9ydCBjb25zdCB1cGxvYWRTZGsgPSBhc3luYyAoZmlsZU9iamVjdCkgPT4ge1xuICBsZXQgeyBuYW1lIH0gPSBmaWxlT2JqZWN0O1xuICBjb25zdCB1cmwgPSBgJHtrZXlCYXNlfSR7RGF0ZS5ub3coKX0ke25hbWV9YDtcblxuICBjb25zdCBjb3MgPSBuZXcgQ09TKHtcbiAgICBnZXRBdXRob3JpemF0aW9uOiBhc3luYyBmdW5jdGlvbiAoXywgY2FsbGJhY2spIHtcbiAgICAgIC8vIOW8guatpeiOt+WPluS4tOaXtuWvhumSpVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldE9zc0NvbmZpZyh7XG4gICAgICAgIGtleTogdXJsIC8vIOaWh+S7tuWQjeWtl1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gZGF0YSAmJiBkYXRhLmNyZWRlbnRpYWxzO1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICBUbXBTZWNyZXRJZDogY3JlZGVudGlhbHMudG1wU2VjcmV0SWQsXG4gICAgICAgIFRtcFNlY3JldEtleTogY3JlZGVudGlhbHMudG1wU2VjcmV0S2V5LFxuICAgICAgICBYQ29zU2VjdXJpdHlUb2tlbjogY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuLFxuICAgICAgICBFeHBpcmVkVGltZTogZGF0YS5leHBpcmVkVGltZVxuICAgICAgfSlcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgLy8g5LiK5LygXG4gICAgY29zLnB1dE9iamVjdCh7XG4gICAgICBCdWNrZXQ6IENvbmZpZy5CdWNrZXQsIC8qIOW/hemhuyAqL1xuICAgICAgUmVnaW9uOiBDb25maWcuUmVnaW9uLCAgICAgLyog5a2Y5YKo5qG25omA5Zyo5Zyw5Z+f77yM5b+F6aG75a2X5q61ICovXG4gICAgICBLZXk6IHVybCwgICAgICAvKiBzaG9wL2ltYWdlL+aWh+S7tuS4iyDlj5ZuYW1lIOW/hemhuyAqL1xuICAgICAgU3RvcmFnZUNsYXNzOiAnU1RBTkRBUkQnLFxuICAgICAgQm9keTogZmlsZU9iamVjdCwgLy8g5LiK5Lyg5paH5Lu25a+56LGhXG5cbiAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uIChwcm9ncmVzc0RhdGEpIHtcbiAgICAgICAgLy8g5LiK5Lyg6L+H56iLXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlaihlcnIpO1xuICAgICAgLy8g6I635Y+WdXJsIOWcsOWdgFxuICAgICAgY29zLmdldE9iamVjdFVybCh7XG4gICAgICAgIEJ1Y2tldDogQ29uZmlnLkJ1Y2tldCxcbiAgICAgICAgUmVnaW9uOiBDb25maWcuUmVnaW9uLCAgICAgLyog5a2Y5YKo5qG25omA5Zyo5Zyw5Z+f77yM5b+F6aG75a2X5q61ICovXG4gICAgICAgIEtleTogdXJsLFxuICAgICAgICBTaWduOiBmYWxzZSxcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWooZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXMoZGF0YS5VcmwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pXG5cbn1cbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cInVwbG9hZC1pbWctY29tcFwiPlxuICAgIDxlbC11cGxvYWRcbiAgICAgIGFjdGlvblxuICAgICAgOmh0dHAtcmVxdWVzdD1cIlVwbG9hZFwiXG4gICAgICBsaXN0LXR5cGU9XCJwaWN0dXJlLWNhcmRcIlxuICAgICAgOmF1dG8tdXBsb2FkPVwiZmFsc2VcIlxuICAgICAgOm11bHRpcGxlPVwiZmFsc2VcIlxuICAgICAgOmxpbWl0PVwiMVwiXG4gICAgICBhY2NlcHQ9XCIucG5nLC5qcGcsLmpwZWcsLmdpZiwgLmJtcFwiXG4gICAgICByZWY9XCJ1cGxvYWRcIlxuICAgICAgOm9uLWNoYW5nZT1cIm9uQ2hhbmdlXCJcbiAgICA+XG4gICAgICA8aSBzbG90PVwiZGVmYXVsdFwiIGNsYXNzPVwiZWwtaWNvbi1wbHVzXCI+PC9pPlxuICAgICAgPGRpdiBzbG90PVwiZmlsZVwiIHNsb3Qtc2NvcGU9XCJ7IGZpbGUgfVwiPlxuICAgICAgICA8aW1nIGNsYXNzPVwiZWwtdXBsb2FkLWxpc3RfX2l0ZW0tdGh1bWJuYWlsXCIgOnNyYz1cImZpbGUudXJsXCIgYWx0PVwiXCIgLz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlbC11cGxvYWQtbGlzdF9faXRlbS1hY3Rpb25zXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzPVwiZWwtdXBsb2FkLWxpc3RfX2l0ZW0tcHJldmlld1wiXG4gICAgICAgICAgICBAY2xpY2s9XCJoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSlcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZWwtaWNvbi16b29tLWluXCI+PC9pPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3M9XCJlbC11cGxvYWQtbGlzdF9faXRlbS1kZWxldGVcIlxuICAgICAgICAgICAgdi1pZj1cIiFkaXNhYmxlZFwiXG4gICAgICAgICAgICBAY2xpY2s9XCJoYW5kbGVSZW1vdmUoZmlsZSlcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZWwtaWNvbi1kZWxldGVcIj48L2k+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2VsLXVwbG9hZD5cbiAgICA8ZWwtZGlhbG9nIDp2aXNpYmxlLnN5bmM9XCJkaWFsb2dWaXNpYmxlXCIgOm1vZGFsPVwiZmFsc2VcIiA6Y2xvc2Utb24tY2xpY2stbW9kYWw9XCJ0cnVlXCI+XG4gICAgICA8aW1nIDpzcmM9XCJkaWFsb2dJbWFnZVVybFwiIGFsdD1cIlwiIC8+XG4gICAgPC9lbC1kaWFsb2c+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IGFwaVVybCB9IGZyb20gXCJAL2NvbnN0YW50XCI7XG5pbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSBcInZ1ZXhcIjtcbmltcG9ydCB7IHVwbG9hZFNkayB9IGZyb20gXCJAL3Nka1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXB1dGVkOiB7XG4gICAgLi4ubWFwR2V0dGVycyhcImdsb2JhbFwiLCBbXCJ0b2tlblwiXSksXG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpYWxvZ0ltYWdlVXJsOiBcIlwiLFxuICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsXG4gICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICBpc0ltYWdlOiBmYWxzZSxcbiAgICB9O1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgaGFuZGxlUmVtb3ZlKGZpbGUpIHtcbiAgICAgIHRoaXMuJHJlZnMudXBsb2FkLmNsZWFyRmlsZXMoKTtcbiAgICAgIHRoaXMuaXNJbWFnZSA9IGZhbHNlO1xuICAgIH0sXG4gICAgaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGUpIHtcbiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDtcbiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7XG4gICAgfSxcbiAgICAvLyDkuIrkvKDmnI3liqHlmahcbiAgICBzdWJtaXQoKSB7XG4gICAgICB0aGlzLiRyZWZzLnVwbG9hZC5zdWJtaXQoKTtcbiAgICB9LFxuICAgIG9uQ2hhbmdlKGZpbGUpIHtcbiAgICAgIGlmICghZmlsZS51cmwpIHJldHVybjtcbiAgICAgIHRoaXMuaXNJbWFnZSA9IHRydWU7XG4gICAgfSxcbiAgICBVcGxvYWQoZmlsZSkge1xuICAgICAgdXBsb2FkU2RrKGZpbGUuZmlsZSlcbiAgICAgICAgLnRoZW4oKGltYWdlVXJsKSA9PiB7XG4gICAgICAgICAgLy8g6L+U5Zue5LiK5Lyg5oiQ5Yqf55qE5Zyw5Z2AXG4gICAgICAgICAgdGhpcy4kZW1pdChcInN1Y2Nlc3NcIiwgaW1hZ2VVcmwpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICB0aGlzLiRlbWl0KFwiZXJyb3JcIiwgZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vSW1nVXBkYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0ltZ1VwZGF0ZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0ltZ1VwZGF0ZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MWI0ODgzMzgmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vSW1nVXBkYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vSW1nVXBkYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL1VzZXJzL21hYy9EZXNrdG9wL3Byb2plY3QvYXBwY29pbi9uZnQvc3JjL3NlY29uZGhhbmQtc2hvcC9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcxYjQ4ODMzOCcpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcxYjQ4ODMzOCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcxYjQ4ODMzOCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vSW1nVXBkYXRlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xYjQ4ODMzOCZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcxYjQ4ODMzOCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvY29tbW9uL0ltZ1VwZGF0ZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJmb3JtLXNob3BcIj5cbiAgICA8ZWwtZm9ybSByZWY9XCJmb3JtXCIgOnJ1bGVzPVwicnVsZXNcIiA6bW9kZWw9XCJmb3JtRGF0YVwiIGxhYmVsLXdpZHRoPVwiODBweFwiPlxuICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD1cIuWVhuWTgeagh+mimFwiIHByb3A9XCJ0aXRsZVwiPlxuICAgICAgICA8ZWwtaW5wdXQgdi1tb2RlbD1cImZvcm1EYXRhLnRpdGxlXCI+PC9lbC1pbnB1dD5cbiAgICAgIDwvZWwtZm9ybS1pdGVtPlxuICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD1cIuWVhuWTgeWNleS7t1wiIHByb3A9XCJwcmljZVwiPlxuICAgICAgICA8ZWwtaW5wdXQtbnVtYmVyXG4gICAgICAgICAgdi1tb2RlbD1cImZvcm1EYXRhLnByaWNlXCJcbiAgICAgICAgICA6cHJlY2lzaW9uPVwiMlwiXG4gICAgICAgICAgOm1pbj1cIjAuMDFcIlxuICAgICAgICAgIDptYXg9XCI5OTk5XCJcbiAgICAgICAgPjwvZWwtaW5wdXQtbnVtYmVyPlxuICAgICAgPC9lbC1mb3JtLWl0ZW0+XG4gICAgICA8ZWwtZm9ybS1pdGVtIGxhYmVsPVwi5ZWG5ZOB5pWw6YePXCIgcHJvcD1cImNvdW50XCI+XG4gICAgICAgIDxlbC1pbnB1dC1udW1iZXJcbiAgICAgICAgICB2LW1vZGVsPVwiZm9ybURhdGEuY291bnRcIlxuICAgICAgICAgIDptaW49XCIxXCJcbiAgICAgICAgICA6bWF4PVwiOTlcIlxuICAgICAgICA+PC9lbC1pbnB1dC1udW1iZXI+XG4gICAgICA8L2VsLWZvcm0taXRlbT5cbiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9XCLllYblk4HmiJDoibJcIiBwcm9wPVwibGV2ZWxcIj5cbiAgICAgICAgPGVsLXNlbGVjdCB2LW1vZGVsPVwiZm9ybURhdGEubGV2ZWxcIiBwbGFjZWhvbGRlcj1cIuivt+mAieaLqeWVhuWTgeaIkOiJslwiPlxuICAgICAgICAgIDxlbC1vcHRpb25cbiAgICAgICAgICAgIHYtZm9yPVwiKGl0ZW0sIGtleSkgaW4gbGV2ZWxfbWFwXCJcbiAgICAgICAgICAgIDprZXk9XCJrZXlcIlxuICAgICAgICAgICAgOmxhYmVsPVwiaXRlbVwiXG4gICAgICAgICAgICA6dmFsdWU9XCJrZXkgLSAwXCJcbiAgICAgICAgICA+PC9lbC1vcHRpb24+XG4gICAgICAgIDwvZWwtc2VsZWN0PlxuICAgICAgPC9lbC1mb3JtLWl0ZW0+XG4gICAgICA8ZWwtZm9ybS1pdGVtIGxhYmVsPVwi6K+m5oOFXCIgcHJvcD1cImluZm9ybWF0aW9uXCI+XG4gICAgICAgIDxlbC1pbnB1dCB0eXBlPVwidGV4dGFyZWFcIiB2LW1vZGVsPVwiZm9ybURhdGEuaW5mb3JtYXRpb25cIj48L2VsLWlucHV0PlxuICAgICAgPC9lbC1mb3JtLWl0ZW0+XG4gICAgICA8ZWwtZm9ybS1pdGVtIGxhYmVsPVwi5YiG57G7XCIgcHJvcD1cInNvcnRcIj5cbiAgICAgICAgPGVsLXNlbGVjdCB2LW1vZGVsPVwiZm9ybURhdGEuc29ydFwiIHBsYWNlaG9sZGVyPVwi6K+36YCJ5oup5YiG57G7XCI+XG4gICAgICAgICAgPGVsLW9wdGlvblxuICAgICAgICAgICAgdi1mb3I9XCIoaXRlbSwga2V5KSBpbiBzb3J0X21hcFwiXG4gICAgICAgICAgICA6a2V5PVwia2V5XCJcbiAgICAgICAgICAgIDpsYWJlbD1cIml0ZW1cIlxuICAgICAgICAgICAgOnZhbHVlPVwia2V5IC0gMFwiXG4gICAgICAgICAgPjwvZWwtb3B0aW9uPlxuICAgICAgICA8L2VsLXNlbGVjdD5cbiAgICAgIDwvZWwtZm9ybS1pdGVtPlxuICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD1cIuWVhuWTgeWbvueJh1wiPlxuICAgICAgICA8SW1hZ2VVcGRhdGUgcmVmPVwidXBkYXRlSW1nXCIgQHN1Y2Nlc3M9XCJvblN1Y2Nlc3NcIiAvPlxuICAgICAgPC9lbC1mb3JtLWl0ZW0+XG4gICAgICA8ZWwtZm9ybS1pdGVtPlxuICAgICAgICA8ZWwtYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwib25TdWJtaXRcIj7lj5HluIPllYblk4E8L2VsLWJ1dHRvbj5cbiAgICAgICAgPGVsLWJ1dHRvbiB2LWlmPVwiIWZvcm1EYXRhLmlkXCIgQGNsaWNrPVwib25DbGVhclwiPua4heepujwvZWwtYnV0dG9uPlxuICAgICAgICA8ZWwtYnV0dG9uIHYtZWxzZSBAY2xpY2s9XCJvbkNsb3NlXCI+5YWz6ZetPC9lbC1idXR0b24+XG4gICAgICA8L2VsLWZvcm0taXRlbT5cbiAgICA8L2VsLWZvcm0+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tIFwidnVleFwiXG5pbXBvcnQgSW1hZ2VVcGRhdGUgZnJvbSBcIi4vY29tbW9uL0ltZ1VwZGF0ZVwiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJzaG9wLWZvcm0tY29tcFwiLFxuICBwcm9wczoge1xuICAgIGZvcm06IHt9LFxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgSW1hZ2VVcGRhdGUsXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgLi4ubWFwR2V0dGVycyhcImdsb2JhbFwiLCBbXCJsZXZlbF9tYXBcIiwgXCJzb3J0X21hcFwiXSksXG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJ1bGVzOiB7XG4gICAgICAgIHRpdGxlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogXCLor7fovpPlhaXllYblk4HmoIfpophcIiwgdHJpZ2dlcjogXCJibHVyXCIgfV0sXG4gICAgICAgIHByaWNlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogXCLor7fovpPlhaXllYblk4Hku7fmoLxcIiwgdHJpZ2dlcjogXCJibHVyXCIgfV0sXG4gICAgICAgIGNvdW50OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogXCLor7fovpPlhaXllYblk4HmlbDph49cIiwgdHJpZ2dlcjogXCJibHVyXCIgfV0sXG4gICAgICAgIGluZm9ybWF0aW9uOiBbXG4gICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogXCLor7fovpPlhaXllYblk4Hor6bmg4VcIiwgdHJpZ2dlcjogXCJibHVyXCIgfSxcbiAgICAgICAgXSxcbiAgICAgICAgbGV2ZWw6IFtcbiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiBcIuivt+mAieaLqeWVhuWTgeaIkOiJslwiLCB0cmlnZ2VyOiBcImNoYW5nZVwiIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNvcnQ6IFtcbiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiBcIuivt+mAieaLqeWVhuWTgeWIhuexu1wiLCB0cmlnZ2VyOiBcImNoYW5nZVwiIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgZm9ybURhdGE6IHRoaXMuZ2V0SW5pdCgpIHx8IHt9LFxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldEluaXQoKSB7XG4gICAgICBsZXQgb2JqID0ge1xuICAgICAgICBjb3VudDogMSxcbiAgICAgICAgcHJpY2U6IDAuMDEsXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5mb3JtKSB7XG4gICAgICAgIG9ialtrZXldID0gdGhpcy5mb3JtW2tleV1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpcbiAgICB9LFxuICAgIC8vIOWbvueJh+S4iuS8oOaIkOWKn1xuICAgIG9uU3VjY2VzcyhpbWFnZVVybCkge1xuICAgICAgdGhpcy4kZW1pdChcInN1Ym1pdFwiLCB7XG4gICAgICAgIC4uLnRoaXMuZm9ybURhdGEsXG4gICAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgIH0pXG4gICAgfSxcbiAgICBvblN1Ym1pdCgpIHtcbiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHtcbiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhcIuWujOWWhOihqOWNlVwiKVxuICAgICAgICAvLyDkv67mlLlcbiAgICAgICAgaWYgKHRoaXMuZm9ybURhdGEuaWQgJiYgIXRoaXMuJHJlZnMudXBkYXRlSW1nLmlzSW1hZ2UpIHtcbiAgICAgICAgICB0aGlzLiRlbWl0KFwic3VibWl0XCIsIHRoaXMuZm9ybURhdGEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5paw5aKeXG4gICAgICAgICAgaWYgKCF0aGlzLiRyZWZzLnVwZGF0ZUltZy5pc0ltYWdlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhcIuivt+S4iuS8oOWVhuWTgeWbvueJh1wiKVxuICAgICAgICAgIHRoaXMuJHJlZnMudXBkYXRlSW1nLnN1Ym1pdCgpIC8vIOaPkOS6pOWbvueJh1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgb25DbGVhcigpIHtcbiAgICAgIHRoaXMuJHJlZnNbXCJmb3JtXCJdLnJlc2V0RmllbGRzKClcbiAgICB9LFxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICB0aGlzLiRlbWl0KFwiY2xvc2VcIilcbiAgICB9LFxuICB9LFxufVxuPC9zY3JpcHQ+XG48c3R5bGUgbGFuZz1cImxlc3NcIiBzY29wZWQ+XG4uZm9ybS1zaG9wIHtcbiAgbWFyZ2luLXRvcDogNDBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDAlKTtcbiAgd2lkdGg6IDUwJTtcbn1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU2hvcEZvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU2hvcEZvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9TaG9wRm9ybS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDM2NTE0MGEmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vU2hvcEZvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9TaG9wRm9ybS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vU2hvcEZvcm0udnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDM2NTE0MGEmbGFuZz1sZXNzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIwMzY1MTQwYVwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9Vc2Vycy9tYWMvRGVza3RvcC9wcm9qZWN0L2FwcGNvaW4vbmZ0L3NyYy9zZWNvbmRoYW5kLXNob3Avbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMDM2NTE0MGEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMDM2NTE0MGEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMDM2NTE0MGEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL1Nob3BGb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wMzY1MTQwYSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwMzY1MTQwYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvU2hvcEZvcm0udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==